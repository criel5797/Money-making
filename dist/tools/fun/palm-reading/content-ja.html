<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIæ‰‹ç›¸å ã„ - ç„¡æ–™æ‰‹ç›¸è¨ºæ–­</title>
    <meta name="description" content="ç„¡æ–™AIæ‰‹ç›¸è¨ºæ–­!ç”Ÿå‘½ç·šã€é ­è„³ç·šã€æ„Ÿæƒ…ç·šã€é‹å‘½ç·šã‚’åˆ†æã—ã¾ã™ã€‚æ‰‹ç›¸ã§åˆ†ã‹ã‚‹ã‚ãªãŸã®é‹å‘½ã¨æ€§æ ¼ã€‚">
    <meta name="keywords" content="æ‰‹ç›¸ã€æ‰‹ç›¸å ã„ã€æ‰‹ç›¸è¨ºæ–­ã€ç”Ÿå‘½ç·šã€é ­è„³ç·šã€æ„Ÿæƒ…ç·šã€é‹å‘½ç·šã€ç„¡æ–™æ‰‹ç›¸">
    <meta name="robots" content="index, follow">

    <meta property="og:title" content="AIæ‰‹ç›¸å ã„ - ç„¡æ–™æ‰‹ç›¸è¨ºæ–­">
    <meta property="og:description" content="AIãŒåˆ†æã™ã‚‹æ‰‹ç›¸!ç”Ÿå‘½ç·šã€é ­è„³ç·šã€æ„Ÿæƒ…ç·šã§åˆ†ã‹ã‚‹ã‚ãªãŸã®é‹å‘½ã€‚">
    <meta property="og:type" content="website">

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Hiragino Sans', 'Hiragino Kaku Gothic ProN', Meiryo, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #2d1b3d 50%, #1a1a2e 100%);
            min-height: 100vh;
            color: #e4e4e4;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            text-align: center;
            padding: 40px 0;
        }

        h1 {
            font-size: 2.5rem;
            background: linear-gradient(135deg, #ffd700, #ff8c00);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
        }

        .subtitle {
            color: #888;
            font-size: 1.1rem;
        }

        .ad-banner {
            background: rgba(255,255,255,0.05);
            border: 1px dashed rgba(255,255,255,0.2);
            padding: 20px;
            text-align: center;
            margin: 20px 0;
            border-radius: 12px;
            color: #666;
        }

        .card {
            background: rgba(255,255,255,0.05);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 25px;
        }

        .palm-visual {
            text-align: center;
            padding: 30px;
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.1), rgba(255, 140, 0, 0.1));
            border-radius: 16px;
            margin-bottom: 25px;
        }

        .palm-emoji {
            font-size: 8rem;
            margin-bottom: 15px;
            filter: drop-shadow(0 0 20px rgba(255, 215, 0, 0.3));
        }

        .palm-guide {
            color: #ffd700;
            font-size: 14px;
        }

        .line-selector {
            margin-bottom: 25px;
        }

        .line-selector h3 {
            color: #ffd700;
            margin-bottom: 15px;
            font-size: 1.1rem;
        }

        .lines-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
        }

        .line-option {
            padding: 15px;
            background: rgba(255,255,255,0.05);
            border: 2px solid transparent;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }

        .line-option:hover {
            background: rgba(255,255,255,0.08);
        }

        .line-option.selected {
            border-color: #ffd700;
            background: rgba(255, 215, 0, 0.1);
        }

        .line-icon {
            font-size: 1.5rem;
            margin-bottom: 8px;
        }

        .line-name {
            font-weight: 600;
            color: #e4e4e4;
            margin-bottom: 4px;
        }

        .line-desc {
            font-size: 12px;
            color: #888;
        }

        .characteristics {
            margin-bottom: 25px;
        }

        .characteristics h3 {
            color: #ffd700;
            margin-bottom: 15px;
            font-size: 1.1rem;
        }

        .char-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
        }

        .char-option {
            padding: 12px;
            background: rgba(255,255,255,0.05);
            border: 2px solid transparent;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
            text-align: center;
        }

        .char-option:hover {
            background: rgba(255,255,255,0.08);
        }

        .char-option.selected {
            border-color: #ffd700;
            background: rgba(255, 215, 0, 0.1);
        }

        .analyze-btn {
            width: 100%;
            padding: 18px;
            background: linear-gradient(135deg, #ffd700, #ff8c00);
            border: none;
            border-radius: 12px;
            color: #1a1a2e;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
        }

        .analyze-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(255, 215, 0, 0.3);
        }

        .analyze-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .result-section {
            display: none;
        }

        .result-section.show {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .result-header {
            text-align: center;
            padding: 25px;
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.15), rgba(255, 140, 0, 0.15));
            border-radius: 16px;
            margin-bottom: 25px;
        }

        .result-title {
            font-size: 1.3rem;
            color: #ffd700;
            margin-bottom: 10px;
        }

        .result-summary {
            color: #e4e4e4;
            line-height: 1.6;
        }

        .line-results {
            display: grid;
            gap: 20px;
        }

        .line-result {
            background: rgba(255,255,255,0.03);
            border-radius: 16px;
            padding: 25px;
            border-left: 4px solid #ffd700;
        }

        .line-result-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 15px;
        }

        .line-result-icon {
            font-size: 1.8rem;
        }

        .line-result-name {
            font-size: 1.2rem;
            color: #ffd700;
            font-weight: 600;
        }

        .line-score {
            margin-bottom: 15px;
        }

        .score-bar {
            height: 8px;
            background: rgba(255,255,255,0.1);
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 8px;
        }

        .score-fill {
            height: 100%;
            background: linear-gradient(90deg, #ffd700, #ff8c00);
            border-radius: 4px;
            transition: width 0.8s ease;
        }

        .score-label {
            font-size: 13px;
            color: #888;
            display: flex;
            justify-content: space-between;
        }

        .line-interpretation {
            color: #ccc;
            line-height: 1.7;
            font-size: 15px;
        }

        .overall-fortune {
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.1), rgba(255, 140, 0, 0.1));
            border-radius: 16px;
            padding: 25px;
            margin-top: 20px;
        }

        .fortune-title {
            color: #ffd700;
            font-size: 1.1rem;
            margin-bottom: 15px;
            text-align: center;
        }

        .fortune-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
        }

        .fortune-item {
            text-align: center;
            padding: 15px 10px;
            background: rgba(0,0,0,0.2);
            border-radius: 12px;
        }

        .fortune-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: #ffd700;
            margin-bottom: 5px;
        }

        .fortune-label {
            font-size: 12px;
            color: #888;
        }

        .advice-section {
            margin-top: 20px;
            padding: 20px;
            background: rgba(255,255,255,0.03);
            border-radius: 12px;
        }

        .advice-title {
            color: #ffd700;
            margin-bottom: 12px;
            font-size: 1rem;
        }

        .advice-content {
            color: #ccc;
            line-height: 1.7;
        }

        .action-buttons {
            display: flex;
            gap: 15px;
            margin-top: 25px;
        }

        .action-btn {
            flex: 1;
            padding: 15px;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .share-btn {
            background: linear-gradient(135deg, #ffd700, #ff8c00);
            color: #1a1a2e;
        }

        .retry-btn {
            background: rgba(255,255,255,0.1);
            color: #e4e4e4;
        }

        .disclaimer {
            text-align: center;
            padding: 20px;
            color: #666;
            font-size: 13px;
            margin-top: 20px;
        }

        .toast {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: linear-gradient(135deg, #ffd700, #ff8c00);
            color: #1a1a2e;
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: 600;
            opacity: 0;
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .toast.show {
            transform: translateX(-50%) translateY(0);
            opacity: 1;
        }

        footer {
            text-align: center;
            padding: 40px 20px;
            color: #666;
        }

        @media (max-width: 600px) {
            h1 { font-size: 1.8rem; }
            .palm-emoji { font-size: 5rem; }
            .lines-grid, .char-grid { grid-template-columns: 1fr; }
            .fortune-grid { grid-template-columns: repeat(3, 1fr); gap: 10px; }
            .action-buttons { flex-direction: column; }
        }
    </style>
<script>window.currentLang="ja";window.toolI18n={"meta":{"title":{"ko":"ì†ê¸ˆ ë³´ê¸°","en":"Palm Reading","ja":"æ‰‹ç›¸å ã„"},"desc":{"ko":"AI ì†ê¸ˆ ë¶„ì„","en":"AI Palm Analysis","ja":"AIæ‰‹ç›¸åˆ†æ"}},"header":{"title":{"ko":"ì†ê¸ˆ ë³´ê¸°","en":"Palm Reading","ja":"æ‰‹ç›¸å ã„"},"subtitle":{"ko":"ì†ê¸ˆìœ¼ë¡œ ì•Œì•„ë³´ëŠ” ìš´ì„¸","en":"Fortune through palm lines","ja":"æ‰‹ç›¸ã§çŸ¥ã‚‹é‹å‹¢"}},"lines":{"life":{"ko":"ìƒëª…ì„ ","en":"Life Line","ja":"ç”Ÿå‘½ç·š"},"head":{"ko":"ë‘ë‡Œì„ ","en":"Head Line","ja":"é ­è„³ç·š"},"heart":{"ko":"ê°ì •ì„ ","en":"Heart Line","ja":"æ„Ÿæƒ…ç·š"},"fate":{"ko":"ìš´ëª…ì„ ","en":"Fate Line","ja":"é‹å‘½ç·š"},"marriage":{"ko":"ê²°í˜¼ì„ ","en":"Marriage Line","ja":"çµå©šç·š"}},"buttons":{"analyze":{"ko":"ğŸ–ï¸ ì†ê¸ˆ ë¶„ì„í•˜ê¸°","en":"ğŸ–ï¸ Analyze Palm","ja":"ğŸ–ï¸ æ‰‹ç›¸åˆ†æ"},"share":{"ko":"ê³µìœ í•˜ê¸°","en":"Share","ja":"å…±æœ‰"},"retry":{"ko":"ë‹¤ì‹œ í•˜ê¸°","en":"Try Again","ja":"ã‚‚ã†ä¸€åº¦"}},"disclaimer":{"ko":"ì¬ë¯¸ë¡œ ì¦ê¸°ëŠ” ì†ê¸ˆ ë¶„ì„ì…ë‹ˆë‹¤.","en":"This is for entertainment.","ja":"å¨¯æ¥½ç”¨ã®æ‰‹ç›¸åˆ†æã§ã™ã€‚"}};</script></head>
<body>
    <div class="container">
        <header>
            <h1>AIæ‰‹ç›¸å ã„</h1>
            <p class="subtitle">æ‰‹ç›¸ã§åˆ†ã‹ã‚‹ã‚ãªãŸã®é‹å‘½</p>
        </header>

        <div class="ad-banner">Advertisement</div>

        <div id="inputSection">
            <div class="card palm-visual">
                <div class="palm-emoji">&#9995;</div>
                <p class="palm-guide">å·¦æ‰‹ã‚’é–‹ã„ã¦æ‰‹ç›¸ã®ç‰¹å¾´ã‚’é¸ã‚“ã§ãã ã•ã„</p>
            </div>

            <div class="card">
                <div class="line-selector">
                    <h3>&#128587; ç”Ÿå‘½ç·šï¼ˆè¦ªæŒ‡ã‚’å›²ã‚€ç·šï¼‰</h3>
                    <div class="char-grid" data-line="life">
                        <div class="char-option" data-value="long">é•·ãã¦æ·±ã„</div>
                        <div class="char-option" data-value="short">çŸ­ã„ã‹æµ…ã„</div>
                        <div class="char-option" data-value="curved">å¤§ããæ¹¾æ›²</div>
                        <div class="char-option" data-value="straight">ç›´ç·šã«è¿‘ã„</div>
                    </div>
                </div>

                <div class="line-selector">
                    <h3>&#128161; é ­è„³ç·šï¼ˆæ‰‹ã®ã²ã‚‰ä¸­å¤®ã®æ¨ªç·šï¼‰</h3>
                    <div class="char-grid" data-line="head">
                        <div class="char-option" data-value="long">é•·ãã¦æ˜ç­</div>
                        <div class="char-option" data-value="short">çŸ­ã„</div>
                        <div class="char-option" data-value="curved">ä¸‹å‘ãã«æ›²ãŒã‚‹</div>
                        <div class="char-option" data-value="straight">ç›´ç·š</div>
                    </div>
                </div>

                <div class="line-selector">
                    <h3>&#128150; æ„Ÿæƒ…ç·šï¼ˆæ‰‹ã®ã²ã‚‰ä¸Šéƒ¨ã®æ¨ªç·šï¼‰</h3>
                    <div class="char-grid" data-line="heart">
                        <div class="char-option" data-value="long">é•·ãã¦æ·±ã„</div>
                        <div class="char-option" data-value="short">çŸ­ã„</div>
                        <div class="char-option" data-value="curved">ä¸Šå‘ãã«æ›²ãŒã‚‹</div>
                        <div class="char-option" data-value="wavy">æ³¢çŠ¶</div>
                    </div>
                </div>

                <div class="line-selector">
                    <h3>&#11088; é‹å‘½ç·šï¼ˆç¸¦ç·šï¼‰</h3>
                    <div class="char-grid" data-line="fate">
                        <div class="char-option" data-value="clear">ã¯ã£ãã‚Šã—ã¦ã„ã‚‹</div>
                        <div class="char-option" data-value="faint">ã‹ã™ã‹ã«è¦‹ãˆã‚‹</div>
                        <div class="char-option" data-value="broken">é€”åˆ‡ã‚Œã¦ã„ã‚‹</div>
                        <div class="char-option" data-value="none">ãªã„ã‹è¦‹ãˆãªã„</div>
                    </div>
                </div>

                <button class="analyze-btn" id="analyzeBtn" onclick="analyzePalm()">&#128302; æ‰‹ç›¸ã‚’è¨ºæ–­</button>
            </div>
        </div>

        <div id="resultSection" class="result-section">
            <div class="card">
                <div class="result-header">
                    <div class="result-title" id="resultTitle">æ‰‹ç›¸è¨ºæ–­çµæœ</div>
                    <p class="result-summary" id="resultSummary"></p>
                </div>

                <div class="line-results" id="lineResults"></div>

                <div class="overall-fortune">
                    <div class="fortune-title">&#127775; ç·åˆé‹å‹¢æŒ‡æ•°</div>
                    <div class="fortune-grid" id="fortuneGrid"></div>
                </div>

                <div class="advice-section">
                    <div class="advice-title">&#128172; ã‚¢ãƒ‰ãƒã‚¤ã‚¹</div>
                    <p class="advice-content" id="adviceContent"></p>
                </div>

                <div class="action-buttons">
                    <button class="action-btn share-btn" onclick="shareResult()">çµæœã‚’å…±æœ‰</button>
                    <button class="action-btn retry-btn" onclick="retry()">ã‚‚ã†ä¸€åº¦å ã†</button>
                </div>
            </div>

            <div class="disclaimer">
                &#9888;&#65039; ã“ã®æ‰‹ç›¸è¨ºæ–­ã¯å¨¯æ¥½ã®ãŸã‚ã®ã‚‚ã®ã§ã‚ã‚Šã€å®Ÿéš›ã®é‹å‘½ã¨ã¯é–¢ä¿‚ã‚ã‚Šã¾ã›ã‚“ã€‚
            </div>
        </div>

        <div class="ad-banner">Advertisement</div>

        <footer>
            <p>AIæ‰‹ç›¸å ã„ | ç„¡æ–™æ‰‹ç›¸è¨ºæ–­</p>
        </footer>
    </div>

    <div class="toast" id="toast"></div>

    <script>
        let selectedLines = {
            life: null,
            head: null,
            heart: null,
            fate: null
        };

        const lineData = {
            life: {
                name: 'ç”Ÿå‘½ç·š',
                icon: '&#128587;',
                interpretations: {
                    long: { score: 90, text: 'ç”Ÿå‘½åŠ›ã«æº€ã¡æº¢ã‚Œã€æ´»åŠ›ãŒã‚ã‚Šã¾ã™ã€‚å¥åº·ã§é•·ã„äººç”Ÿã‚’ç”Ÿãã‚‹å¯èƒ½æ€§ãŒé«˜ãã€å›å¾©åŠ›ã‚‚å„ªã‚Œã¦ã„ã¾ã™ã€‚' },
                    short: { score: 65, text: 'çŸ­ã„ç”Ÿå‘½ç·šã¯åŠ¹ç‡çš„ãªäººç”Ÿã‚’æ„å‘³ã—ã¾ã™ã€‚é‡ã‚ˆã‚Šè³ªã‚’è¿½æ±‚ã—ã€é›†ä¸­åŠ›ã®ã‚ã‚‹äººç”Ÿã‚’é€ã‚Šã¾ã™ã€‚' },
                    curved: { score: 85, text: 'è±Šã‹ãªã‚¨ãƒãƒ«ã‚®ãƒ¼ã¨æƒ…ç†±ã‚’æŒã£ã¦ã„ã¾ã™ã€‚äººç”Ÿã‚’ç©æ¥µçš„ã«æ¥½ã—ã¿ã€å¤šæ§˜ãªçµŒé¨“ã‚’ã—ã¾ã™ã€‚' },
                    straight: { score: 70, text: 'æ…é‡ã§ç”¨å¿ƒæ·±ã„æ€§æ ¼ã§ã™ã€‚å®‰å®šã—ãŸäººç”Ÿã‚’æ±‚ã‚ã€è¨ˆç”»çš„ã«è¡Œå‹•ã—ã¾ã™ã€‚' }
                }
            },
            head: {
                name: 'é ­è„³ç·š',
                icon: '&#128161;',
                interpretations: {
                    long: { score: 92, text: 'å„ªã‚ŒãŸçŸ¥çš„èƒ½åŠ›ã¨åˆ†æåŠ›ã‚’æŒã£ã¦ã„ã¾ã™ã€‚è¤‡é›‘ãªå•é¡Œã‚‚è«–ç†çš„ã«è§£æ±ºã—ã€å­¦ç¿’èƒ½åŠ›ãŒå“è¶Šã—ã¦ã„ã¾ã™ã€‚' },
                    short: { score: 68, text: 'ç›´æ„Ÿçš„ã§å®Ÿç”¨çš„ãªæ€è€ƒæ–¹å¼ã§ã™ã€‚ç´ æ—©ã„åˆ¤æ–­åŠ›ã‚’æŒã¡ã€è¡Œå‹•æŒ‡å‘çš„ã§ã™ã€‚' },
                    curved: { score: 80, text: 'å‰µé€ çš„ã§æƒ³åƒåŠ›ãŒè±Šã‹ã§ã™ã€‚èŠ¸è¡“çš„æ„Ÿè¦šãŒã‚ã‚Šã€ç‹¬å‰µçš„ãªã‚¢ã‚¤ãƒ‡ã‚¢ã‚’ãŸãã•ã‚“å‡ºã—ã¾ã™ã€‚' },
                    straight: { score: 75, text: 'ç¾å®Ÿçš„ã§è«–ç†çš„ãªæ€è€ƒã‚’ã—ã¾ã™ã€‚å®Ÿç”¨çš„ãªè§£æ±ºç­–ã‚’è¦‹ã¤ã‘ã‚‹èƒ½åŠ›ã«å„ªã‚Œã¦ã„ã¾ã™ã€‚' }
                }
            },
            heart: {
                name: 'æ„Ÿæƒ…ç·š',
                icon: '&#128150;',
                interpretations: {
                    long: { score: 88, text: 'æ·±ãè±Šã‹ãªæ„Ÿæƒ…ã‚’æŒã£ã¦ã„ã¾ã™ã€‚æ„›ã«æƒ…ç†±çš„ã§ã€é–¢ä¿‚ã‚’å¤§åˆ‡ã«ã—ã¾ã™ã€‚' },
                    short: { score: 62, text: 'ç‹¬ç«‹çš„ã§è‡ªå·±ä¸­å¿ƒçš„ã§ã™ã€‚æ„Ÿæƒ…ã‚ˆã‚Šç†æ€§ã‚’é‡è¦–ã—ã€å®Ÿç”¨çš„ãªé–¢ä¿‚ã‚’å¥½ã¿ã¾ã™ã€‚' },
                    curved: { score: 85, text: 'æ¸©ã‹ããƒ­ãƒãƒ³ãƒãƒƒã‚¯ãªæ€§æ ¼ã§ã™ã€‚è¡¨ç¾åŠ›ã«å„ªã‚Œã€å‘¨ã‚Šã®äººã€…ã«æ„›ã•ã‚Œã¾ã™ã€‚' },
                    wavy: { score: 70, text: 'æ„Ÿæƒ…ã®èµ·ä¼ãŒã‚ã‚Šã¾ã™ãŒã€å¤šæ§˜ãªçµŒé¨“ã‚’ã—ã¾ã™ã€‚è¤‡æ•°ã®æ‹æ„›ã‚’é€šã˜ã¦æˆé•·ã™ã‚‹ã‚¿ã‚¤ãƒ—ã§ã™ã€‚' }
                }
            },
            fate: {
                name: 'é‹å‘½ç·š',
                icon: '&#11088;',
                interpretations: {
                    clear: { score: 95, text: 'ã¯ã£ãã‚Šã¨ã—ãŸç›®æ¨™ã¨æ–¹å‘æ€§ã‚’æŒã£ã¦ã„ã¾ã™ã€‚æˆåŠŸçš„ãªã‚­ãƒ£ãƒªã‚¢ã‚’ç¯‰ãå¯èƒ½æ€§ãŒé«˜ãã€è‡ªåˆ†ã®é‹å‘½ã‚’åˆ‡ã‚Šé–‹ãã¾ã™ã€‚' },
                    faint: { score: 72, text: 'æŸ”è»Ÿãªäººç”Ÿã®æ…‹åº¦ã‚’æŒã£ã¦ã„ã¾ã™ã€‚æ§˜ã€…ãªå¯èƒ½æ€§ã«é–‹ã‹ã‚Œã¦ãŠã‚Šã€çŠ¶æ³ã«å¿œã˜ã¦é©å¿œã—ã¾ã™ã€‚' },
                    broken: { score: 65, text: 'äººç”Ÿã®è»¢æ›ç‚¹ã‚’çµŒé¨“ã—ã¾ã™ã€‚å¤‰åŒ–ã‚’é€šã˜ã¦æˆé•·ã—ã€æ–°ã—ã„å§‹ã¾ã‚Šã‚’æã‚Œã¾ã›ã‚“ã€‚' },
                    none: { score: 60, text: 'è‡ªç”±ãªé­‚ã®æŒã¡ä¸»ã§ã™ã€‚æ±ºã‚ã‚‰ã‚ŒãŸé“ã‚ˆã‚Šè‡ªåˆ†ã ã‘ã®é“ã‚’åˆ‡ã‚Šé–‹ã„ã¦ã„ãã¾ã™ã€‚' }
                }
            }
        };

        // Event listeners for selection
        document.querySelectorAll('.char-option').forEach(option => {
            option.addEventListener('click', function() {
                const line = this.parentElement.dataset.line;
                const value = this.dataset.value;

                // Toggle selection
                this.parentElement.querySelectorAll('.char-option').forEach(opt => {
                    opt.classList.remove('selected');
                });
                this.classList.add('selected');

                selectedLines[line] = value;
                updateButtonState();
            });
        });

        function updateButtonState() {
            const allSelected = Object.values(selectedLines).every(v => v !== null);
            document.getElementById('analyzeBtn').disabled = !allSelected;
        }

        function analyzePalm() {
            // Calculate results
            let totalScore = 0;
            let resultHTML = '';

            Object.keys(selectedLines).forEach(line => {
                const value = selectedLines[line];
                const data = lineData[line];
                const interpretation = data.interpretations[value];

                totalScore += interpretation.score;

                resultHTML += `
                    <div class="line-result">
                        <div class="line-result-header">
                            <span class="line-result-icon">${data.icon}</span>
                            <span class="line-result-name">${data.name}</span>
                        </div>
                        <div class="line-score">
                            <div class="score-bar">
                                <div class="score-fill" style="width: 0%;" data-score="${interpretation.score}"></div>
                            </div>
                            <div class="score-label">
                                <span>é‹å‹¢æŒ‡æ•°</span>
                                <span>${interpretation.score}ç‚¹</span>
                            </div>
                        </div>
                        <p class="line-interpretation">${interpretation.text}</p>
                    </div>
                `;
            });

            const avgScore = Math.round(totalScore / 4);

            // Generate fortune scores
            const loveScore = Math.round((lineData.heart.interpretations[selectedLines.heart].score + avgScore) / 2);
            const careerScore = Math.round((lineData.fate.interpretations[selectedLines.fate].score + lineData.head.interpretations[selectedLines.head].score) / 2);
            const healthScore = lineData.life.interpretations[selectedLines.life].score;

            const fortuneHTML = `
                <div class="fortune-item">
                    <div class="fortune-value">${loveScore}</div>
                    <div class="fortune-label">æ‹æ„›é‹</div>
                </div>
                <div class="fortune-item">
                    <div class="fortune-value">${careerScore}</div>
                    <div class="fortune-label">ä»•äº‹é‹</div>
                </div>
                <div class="fortune-item">
                    <div class="fortune-value">${healthScore}</div>
                    <div class="fortune-label">å¥åº·é‹</div>
                </div>
            `;

            // Generate advice
            const advices = [
                avgScore >= 85 ? 'ã‚ãªãŸã®æ‰‹ç›¸ã¯éå¸¸ã«è‰¯ã„ã‚¨ãƒãƒ«ã‚®ãƒ¼ã‚’ç§˜ã‚ã¦ã„ã¾ã™ã€‚è‡ªä¿¡ã‚’æŒã£ã¦æŒ‘æˆ¦ã—ã¾ã—ã‚‡ã†!' : '',
                avgScore >= 70 && avgScore < 85 ? 'ãƒãƒ©ãƒ³ã‚¹ã®å–ã‚ŒãŸäººç”Ÿã‚’é€ã£ã¦ã„ã¾ã™ã€‚ç¾åœ¨ã®æ–¹å‘æ€§ã‚’ç¶­æŒã—ã¾ã—ã‚‡ã†ã€‚' : '',
                avgScore < 70 ? 'æ–°ã—ã„æŒ‘æˆ¦ã¨å¤‰åŒ–ãŒã‚ãªãŸã«è‰¯ã„æ©Ÿä¼šã¨ãªã‚‹ã§ã—ã‚‡ã†ã€‚' : '',
                healthScore >= 80 ? 'å¥åº·çš„ãªç”Ÿæ´»ç¿’æ…£ã‚’ç¶­æŒã—ã¦ã„ã¾ã™ã­ã€‚ã“ã‚Œã‹ã‚‰ã‚‚ç¶šã‘ã¾ã—ã‚‡ã†!' : 'è¦å‰‡çš„ãªé‹å‹•ã¨ååˆ†ãªä¼‘æ¯ã‚’å–ã‚Šã¾ã—ã‚‡ã†ã€‚',
                loveScore >= 80 ? 'æ„›ã«ã¤ã„ã¦è‚¯å®šçš„ãªã‚¨ãƒãƒ«ã‚®ãƒ¼ãŒã‚ã‚Šã¾ã™ã€‚' : 'å¿ƒã‚’é–‹ã„ã¦æ–°ã—ã„ç¸ã‚’å—ã‘å…¥ã‚Œã¦ã¿ã¾ã—ã‚‡ã†ã€‚'
            ].filter(a => a).join(' ');

            // Summary based on score
            let summary = '';
            if (avgScore >= 85) {
                summary = '&#127775; éå¸¸ã«è‰¯ã„æ‰‹ç›¸ã§ã™!ç”Ÿã¾ã‚Œã¤ãå¼·ã„é‹ã‚’æŒã¡ã€åŠªåŠ›ã—ãŸåˆ†ã ã‘æˆæœã‚’å¾—ã‚‰ã‚Œã‚‹é‹ã‚’æŒã£ã¦ã„ã¾ã™ã€‚';
            } else if (avgScore >= 75) {
                summary = '&#128170; ãƒãƒ©ãƒ³ã‚¹ã®å–ã‚ŒãŸè‰¯ã„æ‰‹ç›¸ã§ã™ã€‚å®‰å®šã—ãŸäººç”Ÿã‚’æ­©ã¿ã€ç€å®ŸãªåŠªåŠ›ã§æˆåŠŸã§ãã¾ã™ã€‚';
            } else if (avgScore >= 65) {
                summary = '&#127808; ç™ºå±•ã®å¯èƒ½æ€§ãŒã‚ã‚‹æ‰‹ç›¸ã§ã™ã€‚å¤‰åŒ–ã‚’æã‚Œãªã‘ã‚Œã°ã‚ˆã‚Šè‰¯ã„é‹ãŒè¨ªã‚Œã‚‹ã§ã—ã‚‡ã†ã€‚';
            } else {
                summary = '&#127793; è‡ªç”±ãªé­‚ã®æ‰‹ç›¸ã§ã™ã€‚è‡ªåˆ†ã ã‘ã®é“ã‚’åˆ‡ã‚Šé–‹ãã€ãƒ¦ãƒ‹ãƒ¼ã‚¯ãªäººç”Ÿã‚’é€ã‚‹ã“ã¨ã«ãªã‚‹ã§ã—ã‚‡ã†ã€‚';
            }

            // Display results
            document.getElementById('resultSummary').innerHTML = summary;
            document.getElementById('lineResults').innerHTML = resultHTML;
            document.getElementById('fortuneGrid').innerHTML = fortuneHTML;
            document.getElementById('adviceContent').textContent = advices;

            document.getElementById('inputSection').style.display = 'none';
            document.getElementById('resultSection').classList.add('show');

            // Animate score bars
            setTimeout(() => {
                document.querySelectorAll('.score-fill').forEach(bar => {
                    bar.style.width = bar.dataset.score + '%';
                });
            }, 100);
        }

        function shareResult() {
            const summary = document.getElementById('resultSummary').textContent;
            const avgScore = Math.round((
                lineData.life.interpretations[selectedLines.life].score +
                lineData.head.interpretations[selectedLines.head].score +
                lineData.heart.interpretations[selectedLines.heart].score +
                lineData.fate.interpretations[selectedLines.fate].score
            ) / 4);

            const text = `ğŸ–ï¸ AIæ‰‹ç›¸è¨ºæ–­çµæœ

${summary}

ğŸ“Š ç§ã®é‹å‹¢ã‚¹ã‚³ã‚¢: ${avgScore}ç‚¹
${avgScore >= 85 ? 'âœ¨ ã¨ã¦ã‚‚è‰¯ã„æ‰‹ç›¸!' : avgScore >= 75 ? 'ğŸ’ª ãƒãƒ©ãƒ³ã‚¹ã®å–ã‚ŒãŸæ‰‹ç›¸!' : avgScore >= 65 ? 'ğŸŒ± æˆé•·ã®å¯èƒ½æ€§ãŒã‚ã‚‹æ‰‹ç›¸!' : 'ğŸŒ¿ è‡ªç”±ãªé­‚ã®æ‰‹ç›¸!'}

æ‰‹ç›¸ã§åˆ†ã‹ã‚‹ç§ã®é‹å‘½!
âœ¨ ã‚ãªãŸã‚‚æ‰‹ç›¸è¨ºæ–­ã‚’å—ã‘ã¦ã¿ã¾ã›ã‚“ã‹?`;

            window.shareWithModal('AIæ‰‹ç›¸å ã„', text);
        }

        function retry() {
            selectedLines = { life: null, head: null, heart: null, fate: null };
            document.querySelectorAll('.char-option').forEach(opt => {
                opt.classList.remove('selected');
            });
            document.getElementById('analyzeBtn').disabled = true;
            document.getElementById('inputSection').style.display = 'block';
            document.getElementById('resultSection').classList.remove('show');
        }

        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.classList.add('show');
            setTimeout(() => toast.classList.remove('show'), 2000);
        }
    </script>
<script src="/common/share-modal.js"></script><script src="/common/tool-i18n-handler.js"></script></body>
</html>
