<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIäººç›¸å ã„ - ç„¡æ–™äººç›¸è¨ºæ–­ | é¡”ã§è¦‹ã‚‹é‹å‹¢</title>
    <meta name="description" content="ç„¡æ–™AIäººç›¸è¨ºæ–­!é¡”ã®ç‰¹å¾´ã§åˆ†ã‹ã‚‹ã‚ãªãŸã®æ€§æ ¼ã€æ‹æ„›é‹ã€è²¡é‹ã€‚é¡ã€ç›®ã€é¼»ã€å£ã®äººç›¸ã§é‹å‘½ã‚’ç¢ºèªã—ã¾ã—ã‚‡ã†!">
    <meta name="keywords" content="äººç›¸ã€äººç›¸å ã„ã€ç„¡æ–™äººç›¸ã€é¡”å ã„ã€äººç›¸åˆ†æã€äººç›¸é‹å‹¢ã€é¡”åˆ†æ">
    <meta name="robots" content="index, follow">
    <meta property="og:title" content="AIäººç›¸å ã„ - ç„¡æ–™äººç›¸è¨ºæ–­">
    <meta property="og:description" content="é¡”ã®ç‰¹å¾´ã§åˆ†ã‹ã‚‹ã‚ãªãŸã®é‹å‹¢!">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://via.placeholder.com/1200x630/2c1810/ffd700?text=AI+äººç›¸å ã„">

    <style>
        .toast {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: linear-gradient(135deg, #ffd700, #ffb347);
            color: #2c1810;
            padding: 14px 28px;
            border-radius: 30px;
            font-weight: 600;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            z-index: 1000;
            opacity: 0;
            transition: all 0.3s ease;
        }
        .toast.show {
            transform: translateX(-50%) translateY(0);
            opacity: 1;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Hiragino Sans', 'Hiragino Kaku Gothic ProN', Meiryo, sans-serif;
            background: linear-gradient(135deg, #2c1810 0%, #4a2c2a 50%, #1a0a0a 100%);
            min-height: 100vh;
            color: #e4e4e4;
        }

        .container {
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            text-align: center;
            padding: 40px 0 20px;
        }

        h1 {
            font-size: 2.4rem;
            background: linear-gradient(135deg, #ffd700, #ffb347, #ff6b6b);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
        }

        .subtitle { color: #c9a86c; font-size: 1rem; }

        .ad-banner {
            background: rgba(255,255,255,0.05);
            border: 1px dashed rgba(255,255,255,0.2);
            padding: 20px;
            text-align: center;
            margin: 20px 0;
            border-radius: 12px;
            color: rgba(255,255,255,0.5);
        }

        .disclaimer {
            background: rgba(255,215,0,0.1);
            border: 1px solid rgba(255,215,0,0.3);
            padding: 12px;
            border-radius: 8px;
            text-align: center;
            font-size: 13px;
            color: #ffd700;
            margin-bottom: 20px;
        }

        .card {
            background: rgba(255,255,255,0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 24px;
            padding: 30px;
            margin-bottom: 20px;
        }

        .step-indicator {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin-bottom: 25px;
        }

        .step-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: rgba(255,255,255,0.2);
            transition: all 0.3s;
        }

        .step-dot.active { background: #ffd700; width: 30px; border-radius: 5px; }
        .step-dot.done { background: #90EE90; }

        .feature-section {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .feature-section.active { display: block; }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .section-title {
            text-align: center;
            margin-bottom: 25px;
        }

        .section-title .emoji { font-size: 50px; display: block; margin-bottom: 10px; }
        .section-title h2 { color: #ffd700; font-size: 1.3rem; }
        .section-title p { color: #c9a86c; font-size: 14px; margin-top: 5px; }

        .feature-options {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
        }

        .feature-option {
            background: rgba(255,255,255,0.05);
            border: 2px solid rgba(255,255,255,0.1);
            border-radius: 16px;
            padding: 20px 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .feature-option:hover {
            border-color: rgba(255, 215, 0, 0.5);
            background: rgba(255, 215, 0, 0.05);
        }

        .feature-option.selected {
            border-color: #ffd700;
            background: rgba(255, 215, 0, 0.1);
        }

        .feature-option .icon { font-size: 28px; margin-bottom: 8px; display: block; }
        .feature-option .label { color: #e4e4e4; font-size: 14px; font-weight: 500; }

        .nav-buttons {
            display: flex;
            gap: 12px;
            margin-top: 25px;
        }

        .nav-btn {
            flex: 1;
            padding: 16px;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            border: none;
        }

        .nav-btn.prev {
            background: rgba(255,255,255,0.1);
            color: #ccc;
        }

        .nav-btn.next {
            background: linear-gradient(135deg, #ffd700, #ffb347);
            color: #2c1810;
        }

        .nav-btn:disabled { opacity: 0.5; cursor: not-allowed; }
        .nav-btn:hover:not(:disabled) { transform: translateY(-2px); }

        .loading {
            display: none;
            text-align: center;
            padding: 50px 20px;
        }

        .loading.show { display: block; }

        .loading-face {
            font-size: 80px;
            animation: analyzing 2s infinite;
        }

        @keyframes analyzing {
            0%, 100% { transform: scale(1) rotate(0deg); }
            25% { transform: scale(1.05) rotate(-5deg); }
            50% { transform: scale(1) rotate(0deg); }
            75% { transform: scale(1.05) rotate(5deg); }
        }

        .loading p { color: #c9a86c; margin-top: 20px; }

        .result-section {
            display: none;
            animation: fadeIn 0.8s ease;
        }

        .result-section.show { display: block; }

        .result-header {
            text-align: center;
            margin-bottom: 25px;
        }

        .result-face { font-size: 70px; margin-bottom: 15px; }

        .fortune-grade {
            display: inline-block;
            background: linear-gradient(135deg, #ffd700, #ffb347);
            color: #2c1810;
            padding: 8px 24px;
            border-radius: 20px;
            font-weight: 700;
            font-size: 1.1rem;
        }

        .result-card {
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 15px;
        }

        .result-card h3 {
            color: #ffd700;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .result-card p {
            color: #d4c4a8;
            line-height: 1.8;
        }

        .fortune-meters {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }

        .fortune-meter {
            background: rgba(255,255,255,0.05);
            padding: 15px;
            border-radius: 12px;
            text-align: center;
        }

        .fortune-meter .label { color: #c9a86c; font-size: 13px; margin-bottom: 8px; }
        .fortune-meter .score {
            font-size: 28px;
            font-weight: 700;
            background: linear-gradient(135deg, #ffd700, #ff6b6b);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .fortune-bar {
            height: 6px;
            background: rgba(255,255,255,0.1);
            border-radius: 3px;
            margin-top: 8px;
            overflow: hidden;
        }

        .fortune-bar-fill {
            height: 100%;
            background: linear-gradient(90deg, #ffd700, #ff6b6b);
            border-radius: 3px;
            transition: width 1s ease;
        }

        .feature-summary {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 15px;
        }

        .feature-tag {
            background: rgba(255, 215, 0, 0.15);
            border: 1px solid rgba(255, 215, 0, 0.3);
            padding: 6px 14px;
            border-radius: 15px;
            color: #ffd700;
            font-size: 13px;
        }

        .share-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 25px;
        }

        .share-btn {
            padding: 14px 28px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 15px;
            font-weight: 600;
            transition: all 0.3s;
            border: none;
        }

        .share-btn.primary {
            background: linear-gradient(135deg, #ffd700, #ffb347);
            color: #2c1810;
        }

        .share-btn.secondary {
            background: rgba(255,255,255,0.1);
            color: #e4e4e4;
        }

        .share-btn:hover { transform: translateY(-2px); }

        footer {
            text-align: center;
            padding: 30px;
            color: rgba(255,255,255,0.5);
            font-size: 13px;
        }

        @media (max-width: 500px) {
            h1 { font-size: 1.8rem; }
            .feature-options { grid-template-columns: 1fr; }
            .fortune-meters { grid-template-columns: 1fr; }
        }
    </style>
<script>window.currentLang="ja";window.toolI18n={"meta":{"title":{"ko":"ê´€ìƒ ë¶„ì„","en":"Face Reading","ja":"äººç›¸å ã„"},"desc":{"ko":"AI ê´€ìƒ í’€ì´","en":"AI Face Analysis","ja":"AIäººç›¸åˆ†æ"}},"header":{"title":{"ko":"ê´€ìƒ ë¶„ì„","en":"Face Reading","ja":"äººç›¸å ã„"},"subtitle":{"ko":"ì–¼êµ´ë¡œ ì•Œì•„ë³´ëŠ” ìš´ì„¸","en":"Fortune through face features","ja":"é¡”ã§çŸ¥ã‚‹é‹å‹¢"}},"features":{"forehead":{"ko":"ì´ë§ˆ","en":"Forehead","ja":"é¡"},"eyes":{"ko":"ëˆˆ","en":"Eyes","ja":"ç›®"},"nose":{"ko":"ì½”","en":"Nose","ja":"é¼»"},"mouth":{"ko":"ì…","en":"Mouth","ja":"å£"},"ears":{"ko":"ê·€","en":"Ears","ja":"è€³"}},"buttons":{"analyze":{"ko":"ğŸ‘¤ ê´€ìƒ ë¶„ì„í•˜ê¸°","en":"ğŸ‘¤ Analyze Face","ja":"ğŸ‘¤ äººç›¸åˆ†æ"},"share":{"ko":"ê³µìœ í•˜ê¸°","en":"Share","ja":"å…±æœ‰"},"retry":{"ko":"ë‹¤ì‹œ í•˜ê¸°","en":"Try Again","ja":"ã‚‚ã†ä¸€åº¦"}},"disclaimer":{"ko":"ì¬ë¯¸ë¡œ ì¦ê¸°ëŠ” ê´€ìƒ ë¶„ì„ì…ë‹ˆë‹¤.","en":"This is for entertainment.","ja":"å¨¯æ¥½ç”¨ã®äººç›¸åˆ†æã§ã™ã€‚"}};</script></head>
<body>
    <div class="toast" id="toast"></div>
    <div class="container">
        <header>
            <h1>AIäººç›¸å ã„</h1>
            <p class="subtitle">é¡”ã®ç‰¹å¾´ã§è¦‹ã‚‹ã‚ãªãŸã®é‹å‘½</p>
        </header>

        <div class="ad-banner">Advertisement</div>

        <div class="disclaimer">
            æ¥½ã—ã¿ã®ãŸã‚ã®äººç›¸è¨ºæ–­ã§ã™ã€‚çµæœã¯å¨¯æ¥½ç›®çš„ã§ã®ã¿ã”å‚è€ƒãã ã•ã„!
        </div>

        <div class="card">
            <div class="step-indicator" id="stepIndicator">
                <div class="step-dot active"></div>
                <div class="step-dot"></div>
                <div class="step-dot"></div>
                <div class="step-dot"></div>
                <div class="step-dot"></div>
            </div>

            <!-- é¡ã®é¸æŠ -->
            <div class="feature-section active" id="step0">
                <div class="section-title">
                    <span class="emoji">ğŸ‘¤</span>
                    <h2>é¡ã®å½¢ã‚’é¸ã‚“ã§ãã ã•ã„</h2>
                    <p>é¡ã‚’è¦‹ã¦æœ€ã‚‚è¿‘ã„ã‚‚ã®ã‚’é¸ã‚“ã§ãã ã•ã„</p>
                </div>
                <div class="feature-options">
                    <div class="feature-option" data-value="wide" onclick="selectFeature(0, this)">
                        <span class="icon">â–­</span>
                        <span class="label">åºƒãã¦å¹³ã‚‰</span>
                    </div>
                    <div class="feature-option" data-value="narrow" onclick="selectFeature(0, this)">
                        <span class="icon">â–¯</span>
                        <span class="label">ç‹­ã„</span>
                    </div>
                    <div class="feature-option" data-value="round" onclick="selectFeature(0, this)">
                        <span class="icon">â— </span>
                        <span class="label">ä¸¸ãã¦å‡¸</span>
                    </div>
                    <div class="feature-option" data-value="high" onclick="selectFeature(0, this)">
                        <span class="icon">â–³</span>
                        <span class="label">é«˜ãã¦åºƒã„</span>
                    </div>
                </div>
                <div class="nav-buttons">
                    <button class="nav-btn prev" disabled>å‰ã¸</button>
                    <button class="nav-btn next" id="next0" onclick="nextStep(0)" disabled>æ¬¡ã¸</button>
                </div>
            </div>

            <!-- ç›®ã®é¸æŠ -->
            <div class="feature-section" id="step1">
                <div class="section-title">
                    <span class="emoji">ğŸ‘ï¸</span>
                    <h2>ç›®ã®å½¢ã‚’é¸ã‚“ã§ãã ã•ã„</h2>
                </div>
                <div class="feature-options">
                    <div class="feature-option" data-value="big" onclick="selectFeature(1, this)">
                        <span class="icon">â—‰</span>
                        <span class="label">å¤§ããã¦ä¸¸ã„ç›®</span>
                    </div>
                    <div class="feature-option" data-value="long" onclick="selectFeature(1, this)">
                        <span class="icon">â”</span>
                        <span class="label">é•·ãã¦é‹­ã„ç›®</span>
                    </div>
                    <div class="feature-option" data-value="single" onclick="selectFeature(1, this)">
                        <span class="icon">â”€</span>
                        <span class="label">ä¸€é‡/å¥¥äºŒé‡</span>
                    </div>
                    <div class="feature-option" data-value="double" onclick="selectFeature(1, this)">
                        <span class="icon">â˜°</span>
                        <span class="label">äºŒé‡ã¾ã¶ãŸ</span>
                    </div>
                </div>
                <div class="nav-buttons">
                    <button class="nav-btn prev" onclick="prevStep(1)">å‰ã¸</button>
                    <button class="nav-btn next" id="next1" onclick="nextStep(1)" disabled>æ¬¡ã¸</button>
                </div>
            </div>

            <!-- é¼»ã®é¸æŠ -->
            <div class="feature-section" id="step2">
                <div class="section-title">
                    <span class="emoji">ğŸ‘ƒ</span>
                    <h2>é¼»ã®å½¢ã‚’é¸ã‚“ã§ãã ã•ã„</h2>
                </div>
                <div class="feature-options">
                    <div class="feature-option" data-value="high" onclick="selectFeature(2, this)">
                        <span class="icon">ğŸ”º</span>
                        <span class="label">é«˜ãã¦é¼»ç­‹ãŒé€šã‚‹</span>
                    </div>
                    <div class="feature-option" data-value="flat" onclick="selectFeature(2, this)">
                        <span class="icon">â–¬</span>
                        <span class="label">ä½ãã¦æ¨ªã«åºƒã„</span>
                    </div>
                    <div class="feature-option" data-value="straight" onclick="selectFeature(2, this)">
                        <span class="icon">â”‚</span>
                        <span class="label">ã¾ã£ã™ãã§æ•´ã£ã¦ã„ã‚‹</span>
                    </div>
                    <div class="feature-option" data-value="round" onclick="selectFeature(2, this)">
                        <span class="icon">â—¯</span>
                        <span class="label">ä¸¸ãã¦ã‹ã‚ã„ã„</span>
                    </div>
                </div>
                <div class="nav-buttons">
                    <button class="nav-btn prev" onclick="prevStep(2)">å‰ã¸</button>
                    <button class="nav-btn next" id="next2" onclick="nextStep(2)" disabled>æ¬¡ã¸</button>
                </div>
            </div>

            <!-- å£ã®é¸æŠ -->
            <div class="feature-section" id="step3">
                <div class="section-title">
                    <span class="emoji">ğŸ‘„</span>
                    <h2>å£ã®å½¢ã‚’é¸ã‚“ã§ãã ã•ã„</h2>
                </div>
                <div class="feature-options">
                    <div class="feature-option" data-value="big" onclick="selectFeature(3, this)">
                        <span class="icon">â”â”</span>
                        <span class="label">å¤§ããã¦åºƒã„å£</span>
                    </div>
                    <div class="feature-option" data-value="small" onclick="selectFeature(3, this)">
                        <span class="icon">â”€</span>
                        <span class="label">å°ã•ãã¦ã‹ã‚ã„ã„å£</span>
                    </div>
                    <div class="feature-option" data-value="thick" onclick="selectFeature(3, this)">
                        <span class="icon">â–„â–„</span>
                        <span class="label">åšã„å”‡</span>
                    </div>
                    <div class="feature-option" data-value="thin" onclick="selectFeature(3, this)">
                        <span class="icon">â”€â”€</span>
                        <span class="label">è–„ã„å”‡</span>
                    </div>
                </div>
                <div class="nav-buttons">
                    <button class="nav-btn prev" onclick="prevStep(3)">å‰ã¸</button>
                    <button class="nav-btn next" id="next3" onclick="nextStep(3)" disabled>æ¬¡ã¸</button>
                </div>
            </div>

            <!-- é¡”å‹ã®é¸æŠ -->
            <div class="feature-section" id="step4">
                <div class="section-title">
                    <span class="emoji">ğŸ¥š</span>
                    <h2>é¡”ã®å½¢ã‚’é¸ã‚“ã§ãã ã•ã„</h2>
                </div>
                <div class="feature-options">
                    <div class="feature-option" data-value="oval" onclick="selectFeature(4, this)">
                        <span class="icon">â¬­</span>
                        <span class="label">åµå‹</span>
                    </div>
                    <div class="feature-option" data-value="round" onclick="selectFeature(4, this)">
                        <span class="icon">â¬¤</span>
                        <span class="label">ä¸¸é¡”</span>
                    </div>
                    <div class="feature-option" data-value="square" onclick="selectFeature(4, this)">
                        <span class="icon">â–£</span>
                        <span class="label">è§’ã°ã£ãŸé¡”</span>
                    </div>
                    <div class="feature-option" data-value="long" onclick="selectFeature(4, this)">
                        <span class="icon">â–¯</span>
                        <span class="label">é¢é•·</span>
                    </div>
                </div>
                <div class="nav-buttons">
                    <button class="nav-btn prev" onclick="prevStep(4)">å‰ã¸</button>
                    <button class="nav-btn next" id="next4" onclick="analyzeResult()" disabled>äººç›¸ã‚’è¨ºæ–­</button>
                </div>
            </div>

            <!-- ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚° -->
            <div class="loading" id="loading">
                <div class="loading-face">ğŸ”®</div>
                <p>äººç›¸ã‚’åˆ†æã—ã¦ã„ã¾ã™...</p>
                <p style="font-size: 13px; color: #888; margin-top: 10px;">é¡”ã®ã‚¨ãƒãƒ«ã‚®ãƒ¼ã‚’èª­ã¿å–ã£ã¦ã„ã¾ã™...</p>
            </div>

            <!-- çµæœ -->
            <div class="result-section" id="resultSection">
                <div class="result-header">
                    <div class="result-face">ğŸ§‘</div>
                    <div class="fortune-grade" id="fortuneGrade">å‰ç›¸</div>
                </div>

                <div class="fortune-meters" id="fortuneMeters"></div>

                <div class="result-card">
                    <h3>ğŸ‘¤ ç·åˆè©•ä¾¡</h3>
                    <p id="overallReading"></p>
                </div>

                <div class="result-card">
                    <h3>ğŸ’ æ€§æ ¼åˆ†æ</h3>
                    <p id="personalityReading"></p>
                    <div class="feature-summary" id="featureSummary"></div>
                </div>

                <div class="result-card">
                    <h3>ğŸ’° è²¡é‹</h3>
                    <p id="wealthReading"></p>
                </div>

                <div class="result-card">
                    <h3>â¤ï¸ æ‹æ„›é‹</h3>
                    <p id="loveReading"></p>
                </div>

                <div class="result-card">
                    <h3>ğŸ’¼ ä»•äº‹é‹</h3>
                    <p id="careerReading"></p>
                </div>

                <div class="share-buttons">
                    <button class="share-btn primary" onclick="shareResult()">çµæœã‚’å…±æœ‰</button>
                    <button class="share-btn secondary" onclick="resetTest()">ã‚‚ã†ä¸€åº¦</button>
                </div>
            </div>
        </div>

        <div class="ad-banner">Advertisement</div>

        <footer>
            <p>ã“ã®äººç›¸è¨ºæ–­ã¯å¨¯æ¥½ã®ãŸã‚ã®ã‚‚ã®ã§ã™ã€‚<br>å®Ÿéš›ã®äººç›¸å­¦ã¨ã¯ç•°ãªã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚</p>
        </footer>
    </div>

    <script>
        const selections = [null, null, null, null, null];
        let currentStep = 0;

        const meanings = {
            forehead: {
                wide: { trait: "åºƒã„é¡", meaning: "çŸ¥çš„ã§ç†æ€§çš„", fortune: "å­¦æ¥­é‹ä¸Šæ˜‡" },
                narrow: { trait: "ç‹­ã„é¡", meaning: "é›†ä¸­åŠ›ãŒå¼·ã„", fortune: "å°‚é–€åˆ†é‡ã§ã®æˆåŠŸ" },
                round: { trait: "ä¸¸ã„é¡", meaning: "ç©ã‚„ã‹ã§å„ªã—ã„", fortune: "å¯¾äººé–¢ä¿‚è‰¯å¥½" },
                high: { trait: "é«˜ã„é¡", meaning: "é‡å¿ƒã¨ãƒªãƒ¼ãƒ€ãƒ¼ã‚·ãƒƒãƒ—", fortune: "ç¤¾ä¼šçš„æˆåŠŸ" }
            },
            eyes: {
                big: { trait: "å¤§ãã„ç›®", meaning: "ç´”ç²‹ã§æ­£ç›´", fortune: "äººæ°—é‹ä¸Šæ˜‡" },
                long: { trait: "é•·ã„ç›®", meaning: "é‹­ãã¦æ´å¯ŸåŠ›ãŒã‚ã‚‹", fortune: "äº‹æ¥­é‹è‰¯å¥½" },
                single: { trait: "ä¸€é‡ç›®", meaning: "å†…å‘çš„ã ãŒæ ¹æ°—ãŒã‚ã‚‹", fortune: "é…å’²ãã®èŠ±" },
                double: { trait: "äºŒé‡ã¾ã¶ãŸ", meaning: "è¡¨ç¾åŠ›ãŒè±Šã‹", fortune: "èŠ¸è¡“çš„æ‰èƒ½" }
            },
            nose: {
                high: { trait: "é«˜ã„é¼»", meaning: "ãƒ—ãƒ©ã‚¤ãƒ‰ãŒå¼·ã„", fortune: "åèª‰é‹ä¸Šæ˜‡" },
                flat: { trait: "ä½ã„é¼»", meaning: "è¬™è™šã§è¦ªã—ã¿ã‚„ã™ã„", fortune: "å”èª¿é‹è‰¯å¥½" },
                straight: { trait: "ã¾ã£ã™ããªé¼»", meaning: "æ­£ç›´ã§åŸå‰‡çš„", fortune: "ä¿¡é ¼ã‚’å¾—ã‚‹" },
                round: { trait: "ä¸¸ã„é¼»", meaning: "ç¦ãŒå¤šãäººå¾³ãŒã‚ã‚‹", fortune: "è²¡é‹ä¸Šæ˜‡" }
            },
            mouth: {
                big: { trait: "å¤§ãã„å£", meaning: "ç©æ¥µçš„ã§ç¤¾äº¤çš„", fortune: "é£Ÿç¦ã¨è²¡ç¦" },
                small: { trait: "å°ã•ã„å£", meaning: "ç¹Šç´°ã§æ…é‡", fortune: "å†…åŠ©ã®åŠŸ" },
                thick: { trait: "åšã„å”‡", meaning: "æƒ…ç†±çš„ã§æ„Ÿæ€§çš„", fortune: "æ‹æ„›é‹ä¸Šæ˜‡" },
                thin: { trait: "è–„ã„å”‡", meaning: "ç†æ€§çš„ã§å†·é™", fortune: "æ±ºæ–­åŠ›ãŒã‚ã‚‹" }
            },
            face: {
                oval: { trait: "åµå‹", meaning: "ãƒãƒ©ãƒ³ã‚¹ã®å–ã‚ŒãŸæ€§æ ¼", fortune: "å…¨èˆ¬çš„ã«å¹¸é‹" },
                round: { trait: "ä¸¸é¡”", meaning: "æ¥½å¤©çš„ã§ç¦å¾³ãŒã‚ã‚‹", fortune: "è²¡é‹è‰¯å¥½" },
                square: { trait: "è§’ã°ã£ãŸé¡”", meaning: "æ„å¿—ãŒå¼·ãé ‘å›º", fortune: "è‡ªåŠ›ã§æˆåŠŸ" },
                long: { trait: "é¢é•·", meaning: "èŠ¸è¡“çš„æ„Ÿæ€§", fortune: "å‰µé€ åŠ›ã§æˆåŠŸ" }
            }
        };

        function selectFeature(step, element) {
            const parent = element.parentElement;
            parent.querySelectorAll('.feature-option').forEach(opt => opt.classList.remove('selected'));
            element.classList.add('selected');
            selections[step] = element.dataset.value;
            document.getElementById(`next${step}`).disabled = false;
        }

        function nextStep(step) {
            document.getElementById(`step${step}`).classList.remove('active');
            document.getElementById(`step${step + 1}`).classList.add('active');
            currentStep = step + 1;
            updateStepIndicator();
        }

        function prevStep(step) {
            document.getElementById(`step${step}`).classList.remove('active');
            document.getElementById(`step${step - 1}`).classList.add('active');
            currentStep = step - 1;
            updateStepIndicator();
        }

        function updateStepIndicator() {
            document.querySelectorAll('.step-dot').forEach((dot, i) => {
                dot.classList.remove('active', 'done');
                if (i < currentStep) dot.classList.add('done');
                else if (i === currentStep) dot.classList.add('active');
            });
        }

        function analyzeResult() {
            document.getElementById(`step4`).classList.remove('active');
            document.getElementById('loading').classList.add('show');

            setTimeout(() => {
                document.getElementById('loading').classList.remove('show');
                generateResult();
            }, 2500);
        }

        let resultData = {};

        function generateResult() {
            const features = [
                meanings.forehead[selections[0]],
                meanings.eyes[selections[1]],
                meanings.nose[selections[2]],
                meanings.mouth[selections[3]],
                meanings.face[selections[4]]
            ];

            // ã‚¹ã‚³ã‚¢è¨ˆç®—
            const baseScore = 65;
            const scores = {
                love: baseScore + Math.floor(Math.random() * 25),
                wealth: baseScore + Math.floor(Math.random() * 25),
                career: baseScore + Math.floor(Math.random() * 25),
                health: baseScore + Math.floor(Math.random() * 25)
            };

            // ç‰¹å®šã®çµ„ã¿åˆã‚ã›ã«ãƒœãƒ¼ãƒŠã‚¹
            if (selections[2] === 'round') scores.wealth += 10;
            if (selections[3] === 'thick') scores.love += 10;
            if (selections[0] === 'high') scores.career += 10;

            // æœ€å¤§100ã«åˆ¶é™
            Object.keys(scores).forEach(k => scores[k] = Math.min(100, scores[k]));

            const avgScore = Math.round((scores.love + scores.wealth + scores.career + scores.health) / 4);

            let grade = 'å¹³ç›¸';
            if (avgScore >= 85) grade = 'å¤§å‰ç›¸';
            else if (avgScore >= 75) grade = 'å‰ç›¸';
            else if (avgScore >= 65) grade = 'å°å‰ç›¸';

            resultData = {
                grade,
                scores,
                features,
                traits: features.map(f => f.trait)
            };

            displayResult();
        }

        function displayResult() {
            document.getElementById('resultSection').classList.add('show');
            document.getElementById('fortuneGrade').textContent = resultData.grade;

            // é‹å‹¢ãƒ¡ãƒ¼ã‚¿ãƒ¼
            const labels = { love: 'â¤ï¸ æ‹æ„›é‹', wealth: 'ğŸ’° è²¡é‹', career: 'ğŸ’¼ ä»•äº‹é‹', health: 'ğŸ’ª å¥åº·é‹' };
            let metersHtml = '';
            Object.entries(resultData.scores).forEach(([key, value]) => {
                metersHtml += `
                    <div class="fortune-meter">
                        <div class="label">${labels[key]}</div>
                        <div class="score">${value}ç‚¹</div>
                        <div class="fortune-bar">
                            <div class="fortune-bar-fill" style="width: ${value}%"></div>
                        </div>
                    </div>
                `;
            });
            document.getElementById('fortuneMeters').innerHTML = metersHtml;

            // ç‰¹å¾´ã‚¿ã‚°
            document.getElementById('featureSummary').innerHTML = resultData.traits.map(t =>
                `<span class="feature-tag">${t}</span>`
            ).join('');

            // åˆ†æãƒ†ã‚­ã‚¹ãƒˆ
            document.getElementById('overallReading').textContent =
                `ã‚ãªãŸã®äººç›¸ã¯${resultData.grade}ã§ã™ã€‚å…¨ä½“çš„ã«${resultData.features[4].meaning}æ°—è³ªãŒæ„Ÿã˜ã‚‰ã‚Œã€` +
                `${resultData.features[0].fortune}ã®é‹ãŒä¼´ã£ã¦ã„ã¾ã™ã€‚äººç”Ÿã®ãƒãƒ©ãƒ³ã‚¹ãŒã‚ˆãå–ã‚Œã¦ãŠã‚Šã€å¤§ããªå›°é›£ãªãå®‰å®šã—ãŸäººç”Ÿã‚’é€ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚`;

            document.getElementById('personalityReading').textContent =
                `${resultData.features[0].trait}ã‹ã‚‰${resultData.features[0].meaning}æ€§æ ¼ãŒè¦‹ã‚‰ã‚Œã€` +
                `${resultData.features[1].trait}ã¯${resultData.features[1].meaning}ã“ã¨ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚` +
                `${resultData.features[3].trait}ã‹ã‚‰ã¯${resultData.features[3].meaning}ç‰¹æ€§ãŒã†ã‹ãŒãˆã¾ã™ã€‚`;

            document.getElementById('wealthReading').textContent =
                `${resultData.features[2].trait}ã‹ã‚‰${resultData.features[2].fortune}ã®æ°—é‹ãŒè¦‹ã‚‰ã‚Œã¾ã™ã€‚` +
                (resultData.scores.wealth >= 80 ?
                    'è²¡é‹ãŒéå¸¸ã«è‰¯ãã€çµŒæ¸ˆçš„ã«è±Šã‹ãªäººç”ŸãŒæœŸå¾…ã§ãã¾ã™ã€‚' :
                    'ç€å®Ÿã«åŠªåŠ›ã™ã‚Œã°å®‰å®šã—ãŸè²¡æ”¿çŠ¶æ…‹ã‚’ç¶­æŒã§ãã¾ã™ã€‚');

            document.getElementById('loveReading').textContent =
                `${resultData.features[1].trait}ã¨${resultData.features[3].trait}ã‹ã‚‰æ‹æ„›é‹ãŒè¦‹ã‚‰ã‚Œã¾ã™ã€‚` +
                (resultData.scores.love >= 80 ?
                    'é­…åŠ›ã«ã‚ãµã‚Œã€ç•°æ€§ã«äººæ°—ãŒã‚ã‚Šã¾ã™ã€‚è‰¯ã„ç¸ã«å‡ºä¼šã†ç¢ºç‡ãŒé«˜ã„ã§ã™ã€‚' :
                    'çœŸå¿ƒã‚’æŒã£ã¦æ¥ã™ã‚Œã°ã€è‰¯ã„ç¸ã«å‡ºä¼šã†ã“ã¨ãŒã§ãã¾ã™ã€‚');

            document.getElementById('careerReading').textContent =
                `${resultData.features[0].fortune}ã®æ°—é‹ã¨${resultData.features[4].meaning}å‚¾å‘ãŒçµåˆã—ã€` +
                (resultData.scores.career >= 80 ?
                    'ç¤¾ä¼šçš„ã«èªã‚ã‚‰ã‚ŒæˆåŠŸã™ã‚‹å¯èƒ½æ€§ãŒé«˜ã„ã§ã™ã€‚' :
                    'è‡ªåˆ†ã®å¼·ã¿ã‚’æ´»ã‹ã›ã°è·å ´ã§èªã‚ã‚‰ã‚Œã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚');
        }

        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.classList.add('show');
            setTimeout(() => toast.classList.remove('show'), 2500);
        }

        function shareResult() {
            const avgScore = Math.round((resultData.scores.love + resultData.scores.wealth + resultData.scores.career + resultData.scores.health) / 4);
            const text = `ğŸ‘ï¸ AIäººç›¸è¨ºæ–­çµæœ

ã€${resultData.grade}ã€‘
ğŸ“Š ç·åˆ ${avgScore}ç‚¹

â¤ï¸ æ‹æ„›é‹: ${resultData.scores.love}ç‚¹
ğŸ’° è²¡é‹: ${resultData.scores.wealth}ç‚¹
ğŸ’¼ ä»•äº‹é‹: ${resultData.scores.career}ç‚¹
ğŸ’ª å¥åº·é‹: ${resultData.scores.health}ç‚¹

äººç›¸ã§è¦‹ã‚‹ã‚ãªãŸã®æ€§æ ¼ã¨é‹å‹¢!
âœ¨ ã‚ãªãŸã‚‚äººç›¸è¨ºæ–­ã‚’å—ã‘ã¦ã¿ã¾ã›ã‚“ã‹?`;

            window.shareWithModal('AIäººç›¸è¨ºæ–­', text);
        }

        function resetTest() {
            selections.fill(null);
            currentStep = 0;
            document.getElementById('resultSection').classList.remove('show');
            document.querySelectorAll('.feature-section').forEach((s, i) => {
                s.classList.toggle('active', i === 0);
            });
            document.querySelectorAll('.feature-option').forEach(o => o.classList.remove('selected'));
            document.querySelectorAll('.nav-btn.next').forEach(b => b.disabled = true);
            updateStepIndicator();
        }
    </script>
<script src="/common/share-modal.js"></script><script src="/common/tool-i18n-handler.js"></script></body>
</html>
