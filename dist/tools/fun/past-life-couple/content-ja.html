<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å‰ä¸–ã®ç¸è¨ºæ–­ãƒ†ã‚¹ãƒˆ - ç§ãŸã¡ã¯å‰ä¸–ã§ä½•ã®é–¢ä¿‚ï¼Ÿ | ã‚«ãƒƒãƒ—ãƒ«å‰ä¸–ãƒ†ã‚¹ãƒˆ</title>
    <meta name="description" content="ç§ãŸã¡ã¯å‰ä¸–ã§ä½•ã®é–¢ä¿‚ã ã£ãŸã®ã‹ï¼Ÿã‚«ãƒƒãƒ—ãƒ«å‰ä¸–è¨ºæ–­ãƒ†ã‚¹ãƒˆã§äºŒäººã®å‰ä¸–ã®ç¸ã‚’èª¿ã¹ã¾ã—ã‚‡ã†ã€‚ç„¡æ–™å‰ä¸–ç›¸æ€§ãƒ†ã‚¹ãƒˆï¼">
    <meta name="keywords" content="å‰ä¸–ã®ç¸,ã‚«ãƒƒãƒ—ãƒ«ãƒ†ã‚¹ãƒˆ,å‰ä¸–ç›¸æ€§,å‰ä¸–é–¢ä¿‚,è¼ªå»»,ç¸è¨ºæ–­">
    <meta name="robots" content="index, follow">
    <meta property="og:title" content="å‰ä¸–ã®ç¸è¨ºæ–­ãƒ†ã‚¹ãƒˆ - ç§ãŸã¡ã¯å‰ä¸–ã§ä½•ã®é–¢ä¿‚ï¼Ÿ">
    <meta property="og:description" content="ã‚«ãƒƒãƒ—ãƒ«ã®å‰ä¸–ã®ç¸ã‚’èª¿ã¹ã¾ã—ã‚‡ã†ï¼">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://via.placeholder.com/1200x630/4a1c6b/ffd700?text=å‰ä¸–ã®ç¸">

    <style>
        .toast {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: linear-gradient(135deg, #ff69b4, #c44dff);
            color: white;
            padding: 14px 28px;
            border-radius: 30px;
            font-weight: 600;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            z-index: 1000;
            opacity: 0;
            transition: all 0.3s ease;
        }
        .toast.show {
            transform: translateX(-50%) translateY(0);
            opacity: 1;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Noto Sans JP', -apple-system, sans-serif;
            background: linear-gradient(135deg, #1a0a2e 0%, #4a1c6b 50%, #1a0a2e 100%);
            min-height: 100vh;
            color: #e4e4e4;
        }

        .mystical-particles {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            pointer-events: none;
            z-index: 0;
            overflow: hidden;
        }

        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: #ffd700;
            border-radius: 50%;
            animation: particleFloat 8s infinite ease-in-out;
            opacity: 0.6;
        }

        @keyframes particleFloat {
            0%, 100% { transform: translateY(0) translateX(0); opacity: 0; }
            50% { transform: translateY(-100px) translateX(50px); opacity: 0.8; }
        }

        .container {
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 1;
        }

        header {
            text-align: center;
            padding: 40px 0 20px;
        }

        h1 {
            font-size: 2.2rem;
            background: linear-gradient(135deg, #ffd700, #ff69b4, #c44dff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        .subtitle { color: #c8a8e8; font-size: 1rem; }

        .ad-banner {
            background: rgba(255,255,255,0.05);
            border: 1px dashed rgba(255,255,255,0.2);
            padding: 20px;
            text-align: center;
            margin: 20px 0;
            border-radius: 12px;
            color: rgba(255,255,255,0.5);
        }

        .disclaimer {
            background: rgba(255,215,0,0.1);
            border: 1px solid rgba(255,215,0,0.3);
            padding: 12px;
            border-radius: 8px;
            text-align: center;
            font-size: 13px;
            color: #ffd700;
            margin-bottom: 20px;
        }

        .card {
            background: rgba(255,255,255,0.08);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 24px;
            padding: 30px;
            margin-bottom: 20px;
        }

        .input-section h2 {
            color: #ffd700;
            text-align: center;
            margin-bottom: 25px;
        }

        .couple-inputs {
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            gap: 15px;
            align-items: center;
        }

        .person-input {
            background: rgba(255,255,255,0.05);
            padding: 20px;
            border-radius: 16px;
            border: 1px solid rgba(255,255,255,0.1);
        }

        .person-input.person1 { border-color: rgba(255, 105, 180, 0.3); }
        .person-input.person2 { border-color: rgba(100, 149, 237, 0.3); }

        .person-label {
            text-align: center;
            font-weight: 600;
            margin-bottom: 15px;
            color: #ffd700;
        }

        .heart-divider {
            font-size: 30px;
            color: #ff69b4;
            text-shadow: 0 0 20px rgba(255, 105, 180, 0.5);
        }

        .input-group {
            margin-bottom: 12px;
        }

        .input-group label {
            display: block;
            color: #c8a8e8;
            margin-bottom: 5px;
            font-size: 13px;
        }

        .input-group input, .input-group select {
            width: 100%;
            padding: 12px;
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 10px;
            background: rgba(255,255,255,0.05);
            color: #e4e4e4;
            font-size: 14px;
            outline: none;
        }

        .input-group input:focus, .input-group select:focus {
            border-color: #ffd700;
        }

        .birth-row {
            display: flex;
            gap: 5px;
        }

        .birth-row select { flex: 1; padding: 10px 5px; font-size: 12px; }

        .start-btn {
            width: 100%;
            padding: 18px;
            background: linear-gradient(135deg, #ff69b4, #c44dff);
            color: white;
            border: none;
            border-radius: 16px;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 20px;
        }

        .start-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(196, 77, 255, 0.4);
        }

        .loading {
            display: none;
            text-align: center;
            padding: 50px 20px;
        }

        .loading.show { display: block; }

        .loading-animation {
            font-size: 60px;
            animation: heartPulse 1.5s infinite;
        }

        @keyframes heartPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }

        .loading p { color: #c8a8e8; margin-top: 20px; }

        .result-section {
            display: none;
            animation: fadeIn 0.8s ease;
        }

        .result-section.show { display: block; }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .result-header {
            text-align: center;
            margin-bottom: 25px;
        }

        .names-display {
            font-size: 1.3rem;
            color: #e4e4e4;
            margin-bottom: 15px;
        }

        .names-display .name1 { color: #ff69b4; }
        .names-display .name2 { color: #6495ed; }

        .era-badge {
            display: inline-block;
            background: linear-gradient(135deg, #ffd700, #c44dff);
            color: #1a0a2e;
            padding: 8px 20px;
            border-radius: 20px;
            font-weight: 700;
            margin: 10px 0;
        }

        .relation-title {
            font-size: 2rem;
            color: #ffd700;
            margin: 15px 0;
        }

        .relation-emoji {
            font-size: 70px;
            display: block;
            margin: 15px 0;
        }

        .result-card {
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 15px;
        }

        .result-card h3 {
            color: #ffd700;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .result-card p {
            color: #d8c8e8;
            line-height: 1.8;
        }

        .karma-meter {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
            gap: 10px;
        }

        .karma-item {
            flex: 1;
            background: rgba(255,255,255,0.05);
            padding: 15px 10px;
            border-radius: 12px;
            text-align: center;
        }

        .karma-item .label { color: #c8a8e8; font-size: 12px; margin-bottom: 5px; }
        .karma-item .value {
            font-size: 24px;
            font-weight: 700;
            background: linear-gradient(135deg, #ffd700, #ff69b4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .share-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 25px;
        }

        .share-btn {
            padding: 14px 28px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 15px;
            font-weight: 600;
            transition: all 0.3s;
            border: none;
        }

        .share-btn.primary {
            background: linear-gradient(135deg, #ff69b4, #c44dff);
            color: white;
        }

        .share-btn.secondary {
            background: rgba(255,255,255,0.1);
            color: #e4e4e4;
        }

        .share-btn:hover { transform: translateY(-2px); }

        footer {
            text-align: center;
            padding: 30px;
            color: rgba(255,255,255,0.5);
            font-size: 13px;
        }

        @media (max-width: 600px) {
            h1 { font-size: 1.7rem; }
            .couple-inputs { grid-template-columns: 1fr; }
            .heart-divider { padding: 10px 0; }
            .relation-title { font-size: 1.5rem; }
            .karma-meter { flex-wrap: wrap; }
            .karma-item { flex: 1 1 45%; }
        }
    </style>
<script>window.currentLang="ja";window.toolI18n={"meta":{"title":{"ko":"ì „ìƒì˜ ì¸ì—°","en":"Past Life Connection","ja":"å‰ä¸–ã®ç¸"},"desc":{"ko":"ë‘ ì‚¬ëŒì˜ ì „ìƒ ì¸ì—°","en":"Past life connection of two","ja":"äºŒäººã®å‰ä¸–ã®ç¸"}},"header":{"title":{"ko":"ì „ìƒì˜ ì¸ì—°","en":"Past Life Connection","ja":"å‰ä¸–ã®ç¸"},"subtitle":{"ko":"ë‘ ì‚¬ëŒì€ ì „ìƒì— ì–´ë–¤ ê´€ê³„ì˜€ì„ê¹Œ?","en":"What was your connection in past life?","ja":"äºŒäººã¯å‰ä¸–ã§ã©ã‚“ãªé–¢ä¿‚ã ã£ãŸï¼Ÿ"}},"input":{"name1":{"ko":"ì²« ë²ˆì§¸ ì‚¬ëŒ","en":"First Person","ja":"ä¸€äººç›®"},"name2":{"ko":"ë‘ ë²ˆì§¸ ì‚¬ëŒ","en":"Second Person","ja":"äºŒäººç›®"}},"buttons":{"check":{"ko":"ì „ìƒ ì¸ì—° í™•ì¸","en":"Check Connection","ja":"å‰ä¸–ã®ç¸ã‚’ç¢ºèª"},"share":{"ko":"ê³µìœ í•˜ê¸°","en":"Share","ja":"å…±æœ‰"},"retry":{"ko":"ë‹¤ì‹œ í•˜ê¸°","en":"Try Again","ja":"ã‚‚ã†ä¸€åº¦"}},"disclaimer":{"ko":"ì¬ë¯¸ë¡œ ì¦ê¸°ëŠ” í…ŒìŠ¤íŠ¸ì…ë‹ˆë‹¤.","en":"This is for entertainment.","ja":"å¨¯æ¥½ç”¨ã®ãƒ†ã‚¹ãƒˆã§ã™ã€‚"}};</script></head>
<body>
    <div class="mystical-particles" id="particles"></div>
    <div class="toast" id="toast"></div>

    <div class="container">
        <header>
            <h1>å‰ä¸–ã®ç¸è¨ºæ–­ãƒ†ã‚¹ãƒˆ</h1>
            <p class="subtitle">ç§ãŸã¡ã¯å‰ä¸–ã§ä½•ã®é–¢ä¿‚ã ã£ãŸã®ã‹ï¼Ÿ</p>
        </header>

        <div class="ad-banner">Advertisement</div>

        <div class="disclaimer">
            æ¥½ã—ã‚€ãŸã‚ã®å‰ä¸–ã®ç¸è¨ºæ–­ãƒ†ã‚¹ãƒˆã§ã™ï¼
        </div>

        <div class="card">
            <div class="input-section" id="inputSection">
                <h2>äºŒäººã®æƒ…å ±ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„</h2>

                <div class="couple-inputs">
                    <div class="person-input person1">
                        <div class="person-label">ğŸ’— ä¸€äººç›®</div>
                        <div class="input-group">
                            <label>åå‰</label>
                            <input type="text" id="name1" placeholder="åå‰">
                        </div>
                        <div class="input-group">
                            <label>ç”Ÿå¹´æœˆæ—¥</label>
                            <div class="birth-row">
                                <select id="year1"></select>
                                <select id="month1"></select>
                                <select id="day1"></select>
                            </div>
                        </div>
                    </div>

                    <div class="heart-divider">ğŸ’•</div>

                    <div class="person-input person2">
                        <div class="person-label">ğŸ’™ äºŒäººç›®</div>
                        <div class="input-group">
                            <label>åå‰</label>
                            <input type="text" id="name2" placeholder="åå‰">
                        </div>
                        <div class="input-group">
                            <label>ç”Ÿå¹´æœˆæ—¥</label>
                            <div class="birth-row">
                                <select id="year2"></select>
                                <select id="month2"></select>
                                <select id="day2"></select>
                            </div>
                        </div>
                    </div>
                </div>

                <button class="start-btn" onclick="startTest()">å‰ä¸–ã®ç¸ã‚’è¨ºæ–­ã™ã‚‹</button>
            </div>

            <div class="loading" id="loading">
                <div class="loading-animation">ğŸ’«</div>
                <p>æ™‚ã‚’é¡ã£ã¦å‰ä¸–ã‚’æ¢ã—ã¦ã„ã¾ã™...</p>
                <p style="font-size: 13px; color: #888; margin-top: 10px;">äºŒã¤ã®é­‚ã®ç¸ã‚’è¿½è·¡ä¸­...</p>
            </div>

            <div class="result-section" id="resultSection">
                <div class="result-header">
                    <div class="names-display">
                        <span class="name1" id="displayName1">å¤ªéƒ</span>
                        &
                        <span class="name2" id="displayName2">èŠ±å­</span>
                    </div>
                    <div class="era-badge" id="resultEra">æ±Ÿæˆ¸æ™‚ä»£</div>
                    <span class="relation-emoji" id="resultEmoji">ğŸ‘‘ğŸ’•ğŸ‘¸</span>
                    <div class="relation-title" id="resultRelation">é‹å‘½ã®æ‹äºº</div>
                </div>

                <div class="result-card">
                    <h3>ğŸ“œ å‰ä¸–ã®ç‰©èª</h3>
                    <p id="resultStory"></p>
                </div>

                <div class="result-card">
                    <h3>ğŸ”® ç¸ã®æ„å‘³</h3>
                    <p id="resultMeaning"></p>
                </div>

                <div class="result-card">
                    <h3>ğŸ’ ç¾ä¸–ã§ã®ã‚¢ãƒ‰ãƒã‚¤ã‚¹</h3>
                    <p id="resultAdvice"></p>
                </div>

                <div class="result-card">
                    <h3>âœ¨ ã‚«ãƒ«ãƒåˆ†æ</h3>
                    <div class="karma-meter" id="karmaMeter"></div>
                </div>

                <div class="share-buttons">
                    <button class="share-btn primary" onclick="shareResult()">çµæœã‚’ã‚·ã‚§ã‚¢</button>
                    <button class="share-btn secondary" onclick="resetTest()">ã‚‚ã†ä¸€åº¦è¨ºæ–­</button>
                </div>
            </div>
        </div>

        <div class="ad-banner">Advertisement</div>

        <footer>
            <p>ã“ã®ãƒ†ã‚¹ãƒˆã¯å¨¯æ¥½ã®ãŸã‚ã®ã‚‚ã®ã§ã™ã€‚<br>å®Ÿéš›ã®å‰ä¸–ã¨ã¯é–¢ä¿‚ã‚ã‚Šã¾ã›ã‚“ã€‚</p>
        </footer>
    </div>

    <script>
        // ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«ç”Ÿæˆ
        function createParticles() {
            const container = document.getElementById('particles');
            for (let i = 0; i < 30; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.top = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 8 + 's';
                particle.style.animationDuration = (6 + Math.random() * 4) + 's';
                container.appendChild(particle);
            }
        }
        createParticles();

        // æ—¥ä»˜é¸æŠã®åˆæœŸåŒ–
        function initDateSelects() {
            const currentYear = new Date().getFullYear();
            ['year1', 'year2'].forEach(id => {
                const select = document.getElementById(id);
                select.innerHTML = '<option value="">å¹´</option>';
                for (let y = currentYear; y >= 1950; y--) {
                    select.innerHTML += `<option value="${y}">${y}</option>`;
                }
            });
            ['month1', 'month2'].forEach(id => {
                const select = document.getElementById(id);
                select.innerHTML = '<option value="">æœˆ</option>';
                for (let m = 1; m <= 12; m++) {
                    select.innerHTML += `<option value="${m}">${m}</option>`;
                }
            });
            ['day1', 'day2'].forEach(id => {
                const select = document.getElementById(id);
                select.innerHTML = '<option value="">æ—¥</option>';
                for (let d = 1; d <= 31; d++) {
                    select.innerHTML += `<option value="${d}">${d}</option>`;
                }
            });
        }
        initDateSelects();

        const relations = [
            {
                era: "å¤ä»£ã‚¨ã‚¸ãƒ—ãƒˆ",
                relation: "ãƒ•ã‚¡ãƒ©ã‚ªã¨ç¥å®˜",
                emoji: "ğŸ‘‘âœ¨ğŸ”®",
                story: "ãŠäºŒäººã¯å¤ä»£ã‚¨ã‚¸ãƒ—ãƒˆã§ãƒ•ã‚¡ãƒ©ã‚ªã¨ãã‚Œã‚’è£œä½ã™ã‚‹æœ€é«˜ç¥å®˜ã§ã—ãŸã€‚ä¸€ç·’ã«ãƒ”ãƒ©ãƒŸãƒƒãƒ‰ã‚’è¨­è¨ˆã—ã€æ˜Ÿã‚’èª­ã¿ãªãŒã‚‰ç‹å›½ã®ç¹æ „ã‚’å°ãã¾ã—ãŸã€‚æ·±ã„ä¿¡é ¼ã¨çŸ¥çš„ãªäº¤æµã§çµã°ã‚ŒãŸé–¢ä¿‚ã§ã—ãŸã€‚",
                meaning: "ã“ã®ç¸ã¯ãŠäº’ã„ã‚’é«˜ãè©•ä¾¡ã—å°Šé‡ã™ã‚‹é–¢ä¿‚ã§ã™ã€‚å‰ä¸–ã§ä¸€ç·’ã«å¤§ããªã“ã¨ã‚’æˆã—é‚ã’ãŸã ã‘ã«ã€ç¾ä¸–ã§ã‚‚ä¸€ç·’ã«ã„ã‚Œã°ã‚·ãƒŠã‚¸ãƒ¼ãŒçˆ†ç™ºã™ã‚‹ã§ã—ã‚‡ã†ã€‚",
                advice: "ãŠäº’ã„ã®çŸ¥æµã‚’å°Šé‡ã—ã¦ãã ã•ã„ã€‚ä¸€ç·’ã«ç›®æ¨™ã‚’ç«‹ã¦ã¦é”æˆã—ã¦ã„ã‘ã°ã€é©šãã¹ãçµæœã‚’ç”Ÿã¿å‡ºã›ã¾ã™ã€‚",
                karma: { trust: 95, passion: 70, destiny: 88, harmony: 82 }
            },
            {
                era: "æ±Ÿæˆ¸æ™‚ä»£",
                relation: "é‹å‘½ã®æ‹äºº",
                emoji: "ğŸ‘¨â€ğŸ“ğŸ’•ğŸ‘©â€ğŸ“",
                story: "ãŠäºŒäººã¯æ±Ÿæˆ¸æ™‚ä»£ã®æ­¦å®¶ã®å­ä¾›ã§ã€ç•°ãªã‚‹å®¶æŸ„ã§ã—ãŸãŒé‹å‘½ã®ã‚ˆã†ã«å‡ºä¼šã„ã¾ã—ãŸã€‚èº«åˆ†ã®å£ã‚’è¶Šãˆã¦æ„›ã—åˆã„ã€ãã®å¿ƒã¯ä»Šä¸–ã¾ã§ç¶šã„ã¦ã„ã¾ã™ã€‚",
                meaning: "ã“ã®ç¸ã¯ã©ã‚“ãªéšœå®³ã‚‚ä¹—ã‚Šè¶Šãˆã‚‰ã‚Œã‚‹å¼·åŠ›ãªå¼•åŠ›ã§ã™ã€‚å‰ä¸–ã§æˆã—é‚ã’ã‚‰ã‚Œãªã‹ã£ãŸæ„›ã‚’ç¾ä¸–ã§å®Œæˆã•ã›ã‚‹ãŸã‚ã«å†ã³å‡ºä¼šã£ãŸã®ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚",
                advice: "ãŠäº’ã„ã¸ã®ä¿¡é ¼ã‚’å¤±ã‚ãªã„ã§ãã ã•ã„ã€‚å›°é›£ãŒæ¥ã¦ã‚‚ä¸€ç·’ãªã‚‰ä¹—ã‚Šè¶Šãˆã‚‰ã‚Œã¾ã™ã€‚",
                karma: { trust: 85, passion: 98, destiny: 95, harmony: 75 }
            },
            {
                era: "ä¸­ä¸–ãƒ¨ãƒ¼ãƒ­ãƒƒãƒ‘",
                relation: "é¨å£«ã¨ç‹å¥³",
                emoji: "âš”ï¸â¤ï¸ğŸ‘¸",
                story: "ä¸€äººã¯å‹‡æ•¢ãªé¨å£«ã§ã€ã‚‚ã†ä¸€äººã¯ç‹å›½ã®ç‹å¥³ã§ã—ãŸã€‚é¨å£«ã¯ç‹å¥³ã‚’å®ˆã‚‹ãŸã‚ã«å‘½ã‚’æ‡¸ã‘ã€ãã®çŒ®èº«ã¯æ°¸é ã®ç¸ã¨ã—ã¦æ®‹ã‚Šã¾ã—ãŸã€‚",
                meaning: "ã“ã®ç¸ã¯ä¿è­·ã¨çŒ®èº«ã®é–¢ä¿‚ã§ã™ã€‚ä¸€æ–¹ãŒä»–æ–¹ã‚’å®ˆã‚ã†ã¨ã™ã‚‹æœ¬èƒ½ãŒã‚ã‚Šã€ãŠäº’ã„ã«æ·±ã„è²¬ä»»æ„Ÿã‚’æ„Ÿã˜ã¾ã™ã€‚",
                advice: "å®ˆã‚ŠãŸã„æ°—æŒã¡ã‚‚è‰¯ã„ã§ã™ãŒã€æ™‚ã«ã¯ç›¸æ‰‹ãŒè‡ªã‚‰æˆé•·ã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã‚ã’ã¦ãã ã•ã„ã€‚å¯¾ç­‰ãªãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã¨ã—ã¦ä¸€ç·’ã«æ­©ã‚“ã§ãã ã•ã„ã€‚",
                karma: { trust: 90, passion: 85, destiny: 80, harmony: 78 }
            },
            {
                era: "å”æ™‚ä»£",
                relation: "è©©äººã¨ãƒŸãƒ¥ãƒ¼ã‚º",
                emoji: "ğŸ“œğŸ’«ğŸ­",
                story: "ä¸€äººã¯å”ã®æœ‰åãªè©©äººã§ã€ã‚‚ã†ä¸€äººã¯ãã®äººã«ã‚¤ãƒ³ã‚¹ãƒ”ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä¸ãˆã¦ã„ãŸãƒŸãƒ¥ãƒ¼ã‚ºã§ã—ãŸã€‚æ•°å¤šãã®è©©ãŒç›¸æ‰‹ã®ãŸã‚ã«æ›¸ã‹ã‚Œã€ãã®ä½œå“ã¯åƒå¹´çµŒã£ã¦ã‚‚èªã‚Šç¶™ãŒã‚Œã¦ã„ã¾ã™ã€‚",
                meaning: "ã“ã®ç¸ã¯èŠ¸è¡“çš„ã§ã‚¤ãƒ³ã‚¹ãƒ”ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä¸ãˆåˆã†é–¢ä¿‚ã§ã™ã€‚ä¸€ç·’ã«ã„ã‚‹ã¨å‰µé€ åŠ›ãŒæ¹§ãå‡ºã—ã€ãŠäº’ã„ã«ã‚¤ãƒ³ã‚¹ãƒ”ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã¨ãªã‚Šã¾ã™ã€‚",
                advice: "ãŠäº’ã„ã®æ‰èƒ½ã‚’åŠ±ã¾ã—åˆã£ã¦ãã ã•ã„ã€‚ä¸€ç·’ã«å‰µé€ çš„ãªæ´»å‹•ã‚’ã™ã‚Œã°ã€ã‚ˆã‚Šæ·±ã„çµ†ã‚’æ„Ÿã˜ã‚‰ã‚Œã‚‹ã§ã—ã‚‡ã†ã€‚",
                karma: { trust: 75, passion: 88, destiny: 82, harmony: 92 }
            },
            {
                era: "ãƒ«ãƒã‚µãƒ³ã‚¹æ™‚ä»£",
                relation: "åŒå¿—çš„å‹äºº",
                emoji: "ğŸ¨ğŸ¤ğŸ“š",
                story: "ãŠäºŒäººã¯ãƒ«ãƒã‚µãƒ³ã‚¹æ™‚ä»£ã®ãƒ•ã‚£ãƒ¬ãƒ³ãƒ„ã‚§ã§ä¸€ç·’ã«èŠ¸è¡“ã¨å­¦å•ã‚’æ¢æ±‚ã—ã¦ã„ãŸä»²é–“ã§ã—ãŸã€‚å¤œé€šã—è­°è«–ã—ã€ãŠäº’ã„ã®ä½œå“ã‚’æ‰¹è©•ã—ãªãŒã‚‰æˆé•·ã—ã¾ã—ãŸã€‚",
                meaning: "ã“ã®ç¸ã¯æ·±ã„å‹æƒ…ã¨çŸ¥çš„äº¤æµã‚’åŸºç›¤ã¨ã—ã¦ã„ã¾ã™ã€‚æ‹äººã§ã‚ã‚‹å‰ã«æœ€é«˜ã®å‹äººã§ã‚ã‚Šã€åŒå¿—ã§ã™ã€‚",
                advice: "å‹äººã¨ã—ã¦ã®é–¢ä¿‚ã‚’å¤§åˆ‡ã«ã—ã¦ãã ã•ã„ã€‚æ·±ã„å¯¾è©±ã¨å…±æ„ŸãŒé–¢ä¿‚ã‚’ã‚ˆã‚Šå¼·å›ºã«ã—ã¾ã™ã€‚",
                karma: { trust: 92, passion: 65, destiny: 78, harmony: 95 }
            },
            {
                era: "æ—¥æœ¬ã®æ±Ÿæˆ¸æ™‚ä»£",
                relation: "å®¿å‘½ã®ãƒ©ã‚¤ãƒãƒ«",
                emoji: "âš”ï¸ğŸ”¥âš”ï¸",
                story: "ãŠäºŒäººã¯æ±Ÿæˆ¸æ™‚ä»£ã®æœ‰åãªå‰£å®¢ã§ã—ãŸã€‚ãŠäº’ã„ã‚’ãƒ©ã‚¤ãƒãƒ«ã¨è¦‹ãªã—ã¦ç«¶ã„åˆã„ã¾ã—ãŸãŒã€ãã®ä¸­ã«ã¯æ·±ã„å°Šæ•¬ãŒã‚ã‚Šã¾ã—ãŸã€‚ãŠäº’ã„ãŒã„ãŸã‹ã‚‰ã“ãã€ã‚ˆã‚Šå¼·ããªã‚Œã¾ã—ãŸã€‚",
                meaning: "ã“ã®ç¸ã¯ãŠäº’ã„ã‚’æˆé•·ã•ã›ã‚‹é–¢ä¿‚ã§ã™ã€‚ç«¶äº‰å¿ƒãŒã‚ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€ãã‚ŒãŒã‚€ã—ã‚ãŠäº’ã„ã‚’ç™ºå±•ã•ã›ã¾ã™ã€‚",
                advice: "å¥å…¨ãªç«¶äº‰ã¯è‰¯ã„ã§ã™ãŒã€ç›¸æ‰‹ã«å‹ã¨ã†ã¨ã™ã‚‹ã‚ˆã‚Šã‚‚ã€ä¸€ç·’ã«æˆé•·ã™ã‚‹ã¨è€ƒãˆã¦ãã ã•ã„ã€‚",
                karma: { trust: 70, passion: 90, destiny: 75, harmony: 68 }
            },
            {
                era: "å¤ä»£ã‚®ãƒªã‚·ãƒ£",
                relation: "é­‚ã®ç‰‡å‰²ã‚Œ",
                emoji: "âš¡ğŸ’•â˜€ï¸",
                story: "ãƒ—ãƒ©ãƒˆãƒ³ãŒèªã£ãŸã€Œé­‚ã®ç‰‡å‰²ã‚Œã€ã®ã‚ˆã†ã«ã€ãŠäºŒäººã¯å…ƒã€…ä¸€ã¤ã ã£ãŸé­‚ãŒäºŒã¤ã«åˆ†ã‹ã‚ŒãŸå­˜åœ¨ã§ã™ã€‚æ•°åƒå¹´é›¢ã‚Œã¦ã„ã¦ã€ã‚ˆã†ã‚„ãç¾ä¸–ã§å†ä¼šã—ã¾ã—ãŸã€‚",
                meaning: "ã“ã®ç¸ã¯æœ€ã‚‚å¼·åŠ›ãªé­‚ã®çµã³ã¤ãã§ã™ã€‚å‡ºä¼šã£ãŸç¬é–“ã‹ã‚‰é•·å¹´çŸ¥ã£ã¦ã„ãŸã‚ˆã†ãªæ„Ÿè¦šã€ãã‚ŒãŒå‰ä¸–ã®è¨˜æ†¶ã§ã™ã€‚",
                advice: "ã™ã§ã«ç¹‹ãŒã£ã¦ã„ã‚‹ã“ã¨ã‚’ä¿¡ã˜ã¦ãã ã•ã„ã€‚ãŠäº’ã„ã‚’è¦‹ã¤ã‘ãŸã®ã§ã™ã‹ã‚‰ã€ä»Šã¯ä¸€ç·’ã«å®Œå…¨ã«ãªã‚‹æ—…ã‚’æ¥½ã—ã‚“ã§ãã ã•ã„ã€‚",
                karma: { trust: 95, passion: 95, destiny: 99, harmony: 90 }
            },
            {
                era: "ãƒ“ã‚¯ãƒˆãƒªã‚¢æ™‚ä»£",
                relation: "å¸«å¼Ÿ",
                emoji: "ğŸ“–ğŸ’¡ğŸ“",
                story: "ä¸€äººã¯ãƒ“ã‚¯ãƒˆãƒªã‚¢æ™‚ä»£ã®å­¦è€…ã§ã€ã‚‚ã†ä¸€äººã¯ãã®æœ€ã‚‚å„ªç§€ãªå¼Ÿå­ã§ã—ãŸã€‚çŸ¥è­˜ã‚’åˆ†ã‹ã¡åˆã„ã€ãŠäº’ã„ã«æ·±ã„å°è±¡ã‚’æ®‹ã—ã¾ã—ãŸã€‚",
                meaning: "ã“ã®ç¸ã¯æ•™ãˆã¨å­¦ã³ã®é–¢ä¿‚ã§ã™ã€‚ãŠäº’ã„ã«å­¦ã¶ã“ã¨ãŒã‚ã‚Šã€ä¸€ç·’ã«æˆé•·ã—ã¦ã„ãã¾ã™ã€‚",
                advice: "æ™‚ã«ã¯æ•™ãˆã€æ™‚ã«ã¯å­¦ã‚“ã§ãã ã•ã„ã€‚å½¹å‰²ã‚’å›ºå®šã›ãšã€æŸ”è»Ÿã«ä¸ãˆåˆã£ã¦ãã ã•ã„ã€‚",
                karma: { trust: 85, passion: 60, destiny: 72, harmony: 88 }
            }
        ];

        let resultData = {};

        function startTest() {
            const name1 = document.getElementById('name1').value.trim();
            const name2 = document.getElementById('name2').value.trim();

            if (!name1 || !name2) {
                showToast('âš ï¸ äºŒäººã®åå‰ã‚’ä¸¡æ–¹å…¥åŠ›ã—ã¦ãã ã•ã„ï¼');
                return;
            }

            document.getElementById('inputSection').style.display = 'none';
            document.getElementById('loading').classList.add('show');

            setTimeout(() => {
                calculateResult(name1, name2);
            }, 2500);
        }

        function calculateResult(name1, name2) {
            // åå‰ãƒ™ãƒ¼ã‚¹ã®ã‚·ãƒ¼ãƒ‰ç”Ÿæˆ
            let seed = 0;
            for (let i = 0; i < name1.length; i++) {
                seed += name1.charCodeAt(i) * (i + 1);
            }
            for (let i = 0; i < name2.length; i++) {
                seed += name2.charCodeAt(i) * (i + 2);
            }

            // é–¢ä¿‚é¸æŠ
            const relationIndex = seed % relations.length;
            const selectedRelation = relations[relationIndex];

            resultData = {
                name1,
                name2,
                ...selectedRelation
            };

            displayResult();
        }

        function displayResult() {
            document.getElementById('loading').classList.remove('show');
            document.getElementById('resultSection').classList.add('show');

            document.getElementById('displayName1').textContent = resultData.name1;
            document.getElementById('displayName2').textContent = resultData.name2;
            document.getElementById('resultEra').textContent = resultData.era;
            document.getElementById('resultEmoji').textContent = resultData.emoji;
            document.getElementById('resultRelation').textContent = resultData.relation;
            document.getElementById('resultStory').textContent = resultData.story;
            document.getElementById('resultMeaning').textContent = resultData.meaning;
            document.getElementById('resultAdvice').textContent = resultData.advice;

            const karmaLabels = {
                trust: 'ä¿¡é ¼',
                passion: 'æƒ…ç†±',
                destiny: 'é‹å‘½',
                harmony: 'èª¿å’Œ'
            };

            document.getElementById('karmaMeter').innerHTML = Object.entries(resultData.karma).map(([key, value]) => `
                <div class="karma-item">
                    <div class="label">${karmaLabels[key]}</div>
                    <div class="value">${value}%</div>
                </div>
            `).join('');
        }

        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.classList.add('show');
            setTimeout(() => toast.classList.remove('show'), 2500);
        }

        function shareResult() {
            const text = `ğŸ’« å‰ä¸–ã®ç¸è¨ºæ–­ãƒ†ã‚¹ãƒˆçµæœ\n\n` +
                        `${resultData.name1} ğŸ’• ${resultData.name2}\n\n` +
                        `ã€${resultData.era}ã€‘\n` +
                        `${resultData.emoji}\n` +
                        `"${resultData.relation}"\n\n` +
                        `âœ¨ ä¿¡é ¼ ${resultData.karma.trust}% | æƒ…ç†± ${resultData.karma.passion}%\n` +
                        `ğŸŒŸ é‹å‘½ ${resultData.karma.destiny}% | èª¿å’Œ ${resultData.karma.harmony}%\n\n` +
                        `ç§ãŸã¡ã‚‚å‰ä¸–ã®ç¸ã‚’è¨ºæ–­ã™ã‚‹ ğŸ‘‰`;

            if (navigator.share) {
                navigator.share({ title: 'å‰ä¸–ã®ç¸è¨ºæ–­ãƒ†ã‚¹ãƒˆ', text: text })
                    .catch(err => {
                        navigator.clipboard.writeText(text).then(() => showToast('ğŸ“‹ çµæœãŒã‚³ãƒ”ãƒ¼ã•ã‚Œã¾ã—ãŸï¼'));
                    });
            } else {
                navigator.clipboard.writeText(text).then(() => {
                    showToast('ğŸ“‹ çµæœãŒã‚³ãƒ”ãƒ¼ã•ã‚Œã¾ã—ãŸï¼');
                });
            }
        }

        function resetTest() {
            document.getElementById('resultSection').classList.remove('show');
            document.getElementById('inputSection').style.display = 'block';
            document.getElementById('name1').value = '';
            document.getElementById('name2').value = '';
            ['year1', 'month1', 'day1', 'year2', 'month2', 'day2'].forEach(id => {
                document.getElementById(id).selectedIndex = 0;
            });
        }
    </script>
<script src="/common/tool-i18n-handler.js"></script></body>
</html>
