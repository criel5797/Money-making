<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JWT 디코더 - 무료 온라인 JWT 토큰 파서</title>
    <meta name="description" content="JWT 토큰을 즉시 디코딩하고 검사하세요. 무료 온라인 JWT 디코더로 헤더, 페이로드를 확인하고 토큰 구조를 검증하세요.">
    <meta name="keywords" content="JWT 디코더, JWT 파서, JSON 웹 토큰, JWT 디버거, 토큰 디코더">

    <meta property="og:title" content="JWT 디코더 - 무료 온라인 JWT 토큰 파서">
    <meta property="og:description" content="JWT 토큰을 즉시 디코딩하고 검사하세요.">
    <meta property="og:type" content="website">

    <link rel="alternate" hreflang="en" href="index.html">
    <link rel="alternate" hreflang="ko" href="index-ko.html">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;600;700&display=swap" rel="stylesheet">

    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root {
            --bg-primary: #0f172a;
            --bg-secondary: #1e293b;
            --bg-tertiary: #334155;
            --text-primary: #f8fafc;
            --text-secondary: #94a3b8;
            --accent: #10b981;
            --border: #475569;
            --success: #22c55e;
            --warning: #f59e0b;
            --error: #ef4444;
            --header-color: #f472b6;
            --payload-color: #a78bfa;
            --signature-color: #38bdf8;
        }
        body {
            font-family: 'Noto Sans KR', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
        }
        .container { max-width: 1200px; margin: 0 auto; padding: 20px; }

        .lang-switch {
            text-align: right;
            padding: 10px 0;
        }

        .lang-switch a {
            color: #888;
            text-decoration: none;
            font-size: 14px;
            padding: 5px 10px;
            border: 1px solid #444;
            border-radius: 5px;
            transition: all 0.3s;
        }

        .lang-switch a:hover {
            color: var(--accent);
            border-color: var(--accent);
        }

        header { text-align: center; padding: 30px 20px; }
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            background: linear-gradient(135deg, #10b981, #38bdf8);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .subtitle { color: var(--text-secondary); }
        .ad-banner {
            background: var(--bg-secondary);
            border: 1px dashed var(--border);
            padding: 20px;
            text-align: center;
            margin: 20px 0;
            border-radius: 8px;
            color: var(--text-secondary);
        }

        .main-card {
            background: var(--bg-secondary);
            border-radius: 16px;
            padding: 25px;
            margin: 20px 0;
            border: 1px solid var(--border);
        }

        .input-section { margin-bottom: 25px; }
        .input-label {
            display: block;
            color: var(--text-secondary);
            margin-bottom: 10px;
            font-size: 0.9rem;
        }
        textarea {
            width: 100%;
            height: 120px;
            padding: 15px;
            background: var(--bg-primary);
            border: 2px solid var(--border);
            border-radius: 10px;
            color: var(--text-primary);
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 0.9rem;
            line-height: 1.5;
            resize: vertical;
        }
        textarea:focus {
            outline: none;
            border-color: var(--accent);
        }

        .token-preview {
            background: var(--bg-primary);
            border-radius: 10px;
            padding: 15px;
            margin: 20px 0;
            font-family: monospace;
            word-break: break-all;
            line-height: 1.8;
            font-size: 0.95rem;
        }
        .token-header { color: var(--header-color); }
        .token-payload { color: var(--payload-color); }
        .token-signature { color: var(--signature-color); }
        .token-dot { color: var(--text-secondary); }

        .decode-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, var(--accent), #38bdf8);
            border: none;
            border-radius: 10px;
            color: white;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .decode-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(16, 185, 129, 0.3);
        }

        .results {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }

        .result-card {
            background: var(--bg-primary);
            border-radius: 12px;
            overflow: hidden;
            border: 1px solid var(--border);
        }
        .result-header {
            padding: 15px 20px;
            font-weight: 600;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .result-header.header-type {
            background: rgba(244, 114, 182, 0.1);
            border-bottom: 2px solid var(--header-color);
            color: var(--header-color);
        }
        .result-header.payload-type {
            background: rgba(167, 139, 250, 0.1);
            border-bottom: 2px solid var(--payload-color);
            color: var(--payload-color);
        }
        .result-content {
            padding: 15px 20px;
            font-family: monospace;
            font-size: 0.9rem;
            line-height: 1.6;
            max-height: 300px;
            overflow-y: auto;
        }
        .result-content pre {
            white-space: pre-wrap;
            word-break: break-word;
        }

        .btn-copy {
            padding: 5px 12px;
            background: var(--bg-tertiary);
            border: none;
            border-radius: 5px;
            color: var(--text-primary);
            cursor: pointer;
            font-size: 0.8rem;
        }
        .btn-copy:hover { background: var(--border); }

        .claims-table {
            width: 100%;
            border-collapse: collapse;
        }
        .claims-table td {
            padding: 8px 0;
            border-bottom: 1px solid var(--border);
            vertical-align: top;
        }
        .claims-table td:first-child {
            color: var(--accent);
            font-weight: 500;
            width: 100px;
        }
        .claims-table td:last-child {
            color: var(--text-secondary);
            word-break: break-all;
        }

        .signature-section {
            background: var(--bg-primary);
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            border: 1px solid var(--border);
        }
        .signature-header {
            color: var(--signature-color);
            font-weight: 600;
            margin-bottom: 15px;
        }
        .signature-info {
            color: var(--text-secondary);
            font-size: 0.9rem;
            line-height: 1.6;
        }
        .signature-algo {
            display: inline-block;
            padding: 4px 10px;
            background: var(--bg-tertiary);
            border-radius: 5px;
            font-family: monospace;
            font-size: 0.85rem;
            color: var(--signature-color);
        }

        .status-badge {
            display: inline-flex;
            align-items: center;
            gap: 5px;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
        }
        .status-valid {
            background: rgba(34, 197, 94, 0.1);
            color: var(--success);
        }
        .status-expired {
            background: rgba(239, 68, 68, 0.1);
            color: var(--error);
        }
        .status-warning {
            background: rgba(245, 158, 11, 0.1);
            color: var(--warning);
        }

        .info-section {
            background: var(--bg-secondary);
            border-radius: 12px;
            padding: 25px;
            margin: 20px 0;
            border: 1px solid var(--border);
        }
        .info-section h3 { margin-bottom: 15px; color: var(--accent); }
        .info-section p { color: var(--text-secondary); margin-bottom: 10px; line-height: 1.7; }

        .legend {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            margin: 15px 0;
        }
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9rem;
        }
        .legend-color {
            width: 12px;
            height: 12px;
            border-radius: 3px;
        }
        .legend-color.header { background: var(--header-color); }
        .legend-color.payload { background: var(--payload-color); }
        .legend-color.signature { background: var(--signature-color); }

        footer {
            text-align: center;
            padding: 30px;
            border-top: 1px solid var(--border);
            color: var(--text-secondary);
        }

        .toast {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: var(--success);
            color: white;
            padding: 12px 24px;
            border-radius: 8px;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.3s;
            z-index: 1000;
        }
        .toast.show { opacity: 1; transform: translateY(0); }

        .hidden { display: none; }
    </style>
<script>window.currentLang="ja";window.toolI18n={"meta":{"title":{"ko":"JWT 디코더","en":"JWT Decoder","ja":"JWTデコーダー"},"desc":{"ko":"JWT 토큰 분석","en":"Decode JWT tokens","ja":"JWTトークン分析"}},"header":{"title":{"ko":"JWT 디코더","en":"JWT Decoder","ja":"JWTデコーダー"},"subtitle":{"ko":"JWT 토큰을 분석하세요","en":"Analyze JWT tokens","ja":"JWTトークンを分析"}},"input":{"token":{"ko":"JWT 토큰","en":"JWT Token","ja":"JWTトークン"},"placeholder":{"ko":"토큰을 입력하세요","en":"Enter token","ja":"トークンを入力"}},"result":{"header":{"ko":"헤더","en":"Header","ja":"ヘッダー"},"payload":{"ko":"페이로드","en":"Payload","ja":"ペイロード"},"signature":{"ko":"서명","en":"Signature","ja":"署名"},"expired":{"ko":"만료됨","en":"Expired","ja":"期限切れ"},"valid":{"ko":"유효","en":"Valid","ja":"有効"}},"buttons":{"decode":{"ko":"디코딩","en":"Decode","ja":"デコード"},"clear":{"ko":"지우기","en":"Clear","ja":"クリア"}}};</script></head>
<body>
    <div class="container">
        <div class="lang-switch">
            <a href="index.html">English</a>
        </div>

        <header>
            <h1>JWT 디코더</h1>
            <p class="subtitle">JSON 웹 토큰을 디코딩하고 검사하세요</p>
        </header>

        <div class="ad-banner">광고</div>

        <div class="main-card">
            <div class="input-section">
                <label class="input-label">아래에 JWT 토큰을 붙여넣으세요:</label>
                <textarea id="jwtInput" placeholder="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c"></textarea>
            </div>

            <div class="legend">
                <div class="legend-item">
                    <div class="legend-color header"></div>
                    <span>헤더</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color payload"></div>
                    <span>페이로드</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color signature"></div>
                    <span>서명</span>
                </div>
            </div>

            <div class="token-preview" id="tokenPreview">
                <span class="token-header" id="previewHeader"></span><span class="token-dot">.</span><span class="token-payload" id="previewPayload"></span><span class="token-dot">.</span><span class="token-signature" id="previewSignature"></span>
            </div>

            <button class="decode-btn" onclick="decodeJWT()">토큰 디코딩</button>
        </div>

        <div id="resultsSection" class="hidden">
            <div id="statusContainer" style="text-align: center; margin: 20px 0;"></div>

            <div class="results">
                <div class="result-card">
                    <div class="result-header header-type">
                        <span>헤더</span>
                        <button class="btn-copy" onclick="copySection('header')">복사</button>
                    </div>
                    <div class="result-content">
                        <pre id="headerContent"></pre>
                    </div>
                </div>

                <div class="result-card">
                    <div class="result-header payload-type">
                        <span>페이로드</span>
                        <button class="btn-copy" onclick="copySection('payload')">복사</button>
                    </div>
                    <div class="result-content">
                        <pre id="payloadContent"></pre>
                    </div>
                </div>
            </div>

            <div class="signature-section">
                <div class="signature-header">서명</div>
                <div class="signature-info">
                    <p>알고리즘: <span class="signature-algo" id="algoDisplay">-</span></p>
                    <p style="margin-top: 10px;">서명은 JWT 발신자의 신원을 확인하고 메시지가 변경되지 않았음을 보장하는 데 사용됩니다.</p>
                    <p style="margin-top: 10px; color: var(--warning);">참고: 이 도구는 토큰을 디코딩만 합니다. 서명을 검증하려면 비밀 키 또는 공개 키가 필요합니다.</p>
                </div>
            </div>

            <div id="claimsSection" class="info-section">
                <h3>표준 클레임</h3>
                <table class="claims-table" id="claimsTable"></table>
            </div>
        </div>

        <div class="ad-banner">광고</div>

        <div class="info-section">
            <h3>JWT란 무엇인가요?</h3>
            <p>JSON 웹 토큰(JWT)은 당사자 간에 정보를 JSON 객체로 안전하게 전송하기 위한 개방형 표준(RFC 7519)입니다. JWT는 웹 애플리케이션에서 인증 및 권한 부여에 일반적으로 사용됩니다.</p>
            <p>JWT는 점으로 구분된 세 부분으로 구성됩니다:</p>
            <p>• <strong style="color: var(--header-color);">헤더</strong> - 토큰 유형과 서명 알고리즘을 포함</p>
            <p>• <strong style="color: var(--payload-color);">페이로드</strong> - 클레임(사용자 데이터 및 메타데이터)을 포함</p>
            <p>• <strong style="color: var(--signature-color);">서명</strong> - 토큰의 무결성을 검증</p>
        </div>

        <div class="info-section">
            <h3>일반적인 JWT 클레임</h3>
            <p><code>iss</code> - 토큰 발급자</p>
            <p><code>sub</code> - 주제 (일반적으로 사용자 ID)</p>
            <p><code>aud</code> - 대상 (의도된 수신자)</p>
            <p><code>exp</code> - 만료 시간</p>
            <p><code>nbf</code> - 활성화 시간</p>
            <p><code>iat</code> - 발급 시간</p>
            <p><code>jti</code> - JWT ID (고유 식별자)</p>
        </div>

        <footer>
            <p>개발자를 위해 정성껏 만들었습니다</p>
        </footer>
    </div>

    <div class="toast" id="toast"></div>

    <script>
        let decodedHeader = null;
        let decodedPayload = null;

        const standardClaims = {
            'iss': '발급자',
            'sub': '주제',
            'aud': '대상',
            'exp': '만료 시간',
            'nbf': '활성화 시간',
            'iat': '발급 시간',
            'jti': 'JWT ID'
        };

        function base64UrlDecode(str) {
            str = str.replace(/-/g, '+').replace(/_/g, '/');
            while (str.length % 4) {
                str += '=';
            }
            return decodeURIComponent(atob(str).split('').map(c => {
                return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);
            }).join(''));
        }

        function formatJSON(obj) {
            return JSON.stringify(obj, null, 2);
        }

        function formatTimestamp(ts) {
            const date = new Date(ts * 1000);
            return date.toLocaleString('ko-KR') + ' (' + getRelativeTime(date) + ')';
        }

        function getRelativeTime(date) {
            const now = new Date();
            const diff = date - now;
            const absDiff = Math.abs(diff);

            if (absDiff < 60000) return diff > 0 ? '1분 이내' : '1분 전';
            if (absDiff < 3600000) return diff > 0 ? `${Math.round(absDiff/60000)}분 후` : `${Math.round(absDiff/60000)}분 전`;
            if (absDiff < 86400000) return diff > 0 ? `${Math.round(absDiff/3600000)}시간 후` : `${Math.round(absDiff/3600000)}시간 전`;
            return diff > 0 ? `${Math.round(absDiff/86400000)}일 후` : `${Math.round(absDiff/86400000)}일 전`;
        }

        function updatePreview() {
            const jwt = document.getElementById('jwtInput').value.trim();
            const parts = jwt.split('.');

            if (parts.length === 3) {
                document.getElementById('previewHeader').textContent = parts[0];
                document.getElementById('previewPayload').textContent = parts[1];
                document.getElementById('previewSignature').textContent = parts[2];
            } else {
                document.getElementById('previewHeader').textContent = jwt;
                document.getElementById('previewPayload').textContent = '';
                document.getElementById('previewSignature').textContent = '';
            }
        }

        function decodeJWT() {
            const jwt = document.getElementById('jwtInput').value.trim();
            const parts = jwt.split('.');

            if (parts.length !== 3) {
                showToast('잘못된 JWT 형식입니다');
                return;
            }

            try {
                decodedHeader = JSON.parse(base64UrlDecode(parts[0]));
                decodedPayload = JSON.parse(base64UrlDecode(parts[1]));

                document.getElementById('headerContent').textContent = formatJSON(decodedHeader);
                document.getElementById('payloadContent').textContent = formatJSON(decodedPayload);
                document.getElementById('algoDisplay').textContent = decodedHeader.alg || '알 수 없음';

                buildClaimsTable();
                checkTokenStatus();

                document.getElementById('resultsSection').classList.remove('hidden');
                showToast('토큰 디코딩 완료!');
            } catch (e) {
                showToast('토큰 디코딩 실패');
                console.error(e);
            }
        }

        function buildClaimsTable() {
            const table = document.getElementById('claimsTable');
            table.innerHTML = '';

            for (const [key, label] of Object.entries(standardClaims)) {
                if (decodedPayload[key] !== undefined) {
                    const row = document.createElement('tr');
                    let value = decodedPayload[key];

                    if (['exp', 'nbf', 'iat'].includes(key) && typeof value === 'number') {
                        value = formatTimestamp(value);
                    }

                    row.innerHTML = `<td>${key}</td><td>${label}: ${value}</td>`;
                    table.appendChild(row);
                }
            }
        }

        function checkTokenStatus() {
            const container = document.getElementById('statusContainer');
            container.innerHTML = '';

            if (decodedPayload.exp) {
                const expDate = new Date(decodedPayload.exp * 1000);
                const now = new Date();

                if (expDate < now) {
                    container.innerHTML = '<span class="status-badge status-expired">토큰 만료됨</span>';
                } else {
                    container.innerHTML = '<span class="status-badge status-valid">토큰 유효함 (만료되지 않음)</span>';
                }
            } else {
                container.innerHTML = '<span class="status-badge status-warning">만료 시간 미설정</span>';
            }
        }

        function copySection(section) {
            let text = '';
            if (section === 'header') {
                text = formatJSON(decodedHeader);
            } else if (section === 'payload') {
                text = formatJSON(decodedPayload);
            }
            navigator.clipboard.writeText(text);
            showToast('복사됨!');
        }

        function showToast(msg) {
            const toast = document.getElementById('toast');
            toast.textContent = msg;
            toast.classList.add('show');
            setTimeout(() => toast.classList.remove('show'), 2000);
        }

        document.getElementById('jwtInput').addEventListener('input', updatePreview);

        document.getElementById('jwtInput').value = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWUsImlhdCI6MTUxNjIzOTAyMiwiZXhwIjoxNzM0MjAwMDAwfQ.POstGetfAytaZS82wHcjoTyoqhMyxXiWdR7Nn7A29DN';
        updatePreview();
    </script>
<script src="/common/tool-i18n-handler.js"></script></body>
</html>
