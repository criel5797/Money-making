<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JSON Formatter - Free Online JSON Beautifier Tool</title>
    <meta name="description" content="Free online JSON formatter. Format and validate your JSON data instantly. Beautify JSON with syntax highlighting.">
    <meta name="keywords" content="JSON formatter, JSON beautifier, JSON validator, JSON viewer, JSON converter">
    <meta name="robots" content="index, follow">
    <meta property="og:title" content="JSON Formatter - Free Online JSON Beautifier Tool">
    <meta property="og:description" content="Format and validate your JSON data instantly. Easy viewing with syntax highlighting.">
    <meta property="og:type" content="website">

    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            min-height: 100vh;
            color: #e4e4e4;
        }
        .container { max-width: 1400px; margin: 0 auto; padding: 20px; }
        header { text-align: center; padding: 30px 0; }
        h1 {
            font-size: 2.5rem;
            background: linear-gradient(135deg, #00d9ff, #00ff88);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
        }
        .subtitle { color: #888; font-size: 1.1rem; }
        .ad-banner {
            background: rgba(255,255,255,0.05);
            border: 1px dashed rgba(255,255,255,0.2);
            padding: 20px;
            text-align: center;
            margin: 20px 0;
            border-radius: 8px;
            color: #666;
        }
        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 20px;
        }
        @media (max-width: 900px) {
            .main-content { grid-template-columns: 1fr; }
            h1 { font-size: 1.8rem; }
        }
        .panel {
            background: rgba(255,255,255,0.05);
            border-radius: 12px;
            overflow: hidden;
        }
        .panel-header {
            background: rgba(255,255,255,0.08);
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        .panel-title { font-weight: 600; color: #00d9ff; }
        .panel-actions { display: flex; gap: 10px; }
        textarea {
            width: 100%;
            height: 500px;
            background: transparent;
            border: none;
            padding: 20px;
            color: #e4e4e4;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 14px;
            resize: none;
            outline: none;
        }
        .output-area {
            height: 500px;
            overflow: auto;
            padding: 20px;
        }
        pre {
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 14px;
            white-space: pre-wrap;
            word-wrap: break-word;
        }
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            font-size: 14px;
            transition: all 0.3s ease;
        }
        .btn-primary {
            background: linear-gradient(135deg, #00d9ff, #00ff88);
            color: #1a1a2e;
        }
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(0, 217, 255, 0.3);
        }
        .btn-secondary {
            background: rgba(255,255,255,0.1);
            color: #e4e4e4;
        }
        .btn-secondary:hover { background: rgba(255,255,255,0.2); }
        .btn-small { padding: 6px 12px; font-size: 12px; }
        .controls {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
            margin: 20px 0;
        }
        .options {
            display: flex;
            gap: 20px;
            justify-content: center;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        .option-group {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .option-group label { color: #888; font-size: 14px; }
        select {
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            color: #e4e4e4;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 14px;
            outline: none;
        }
        select option { background: #1a1a2e; }
        .status-bar {
            display: flex;
            justify-content: space-between;
            padding: 10px 20px;
            background: rgba(0,0,0,0.2);
            font-size: 13px;
            color: #888;
        }
        .status-valid { color: #00ff88; }
        .status-invalid { color: #ff4757; }
        .json-key { color: #00d9ff; }
        .json-string { color: #ffd93d; }
        .json-number { color: #ff6b6b; }
        .json-boolean { color: #ff6b6b; }
        .json-null { color: #888; }
        .json-bracket { color: #888; }
        .toast {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: rgba(0, 255, 136, 0.9);
            color: #1a1a2e;
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: 500;
            opacity: 0;
            transition: all 0.3s ease;
            z-index: 1000;
        }
        .toast.show { transform: translateX(-50%) translateY(0); opacity: 1; }
        .error-message {
            background: rgba(255, 71, 87, 0.1);
            border: 1px solid #ff4757;
            color: #ff4757;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
        }
        footer { text-align: center; padding: 40px 20px; color: #666; }
        footer a { color: #00d9ff; text-decoration: none; }
        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 40px 0;
        }
        .feature {
            background: rgba(255,255,255,0.05);
            padding: 25px;
            border-radius: 12px;
            text-align: center;
        }
        .feature-icon { font-size: 2rem; margin-bottom: 15px; }
        .feature h3 { color: #00d9ff; margin-bottom: 10px; }
        .feature p { color: #888; font-size: 14px; }
        .tree-view { padding: 10px; }
        .tree-node { margin-left: 20px; }
        .tree-key { color: #00d9ff; cursor: pointer; }
        .tree-toggle { cursor: pointer; user-select: none; margin-right: 5px; }
        .tree-value { color: #ffd93d; }
        .collapsible { display: inline; }
        .collapsed > .tree-content { display: none; }
        .lang-switch {
            position: absolute;
            top: 20px;
            right: 20px;
        }
        .lang-switch a {
            color: #888;
            text-decoration: none;
            padding: 5px 10px;
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 4px;
            font-size: 0.85rem;
        }
        .lang-switch a:hover { background: rgba(255,255,255,0.1); }
    </style>
<script>window.currentLang="en";window.toolI18n={"meta":{"title":{"ko":"JSON Ìè¨Îß∑ÌÑ∞","en":"JSON Formatter","ja":"JSON„Éï„Ç©„Éº„Éû„ÉÉ„Çø„Éº"},"desc":{"ko":"JSON Ï†ïÎ†¨","en":"Format JSON","ja":"JSONÊï¥ÂΩ¢"}},"header":{"title":{"ko":"JSON Ìè¨Îß∑ÌÑ∞","en":"JSON Formatter","ja":"JSON„Éï„Ç©„Éº„Éû„ÉÉ„Çø„Éº"},"subtitle":{"ko":"JSON Ï†ïÎ†¨ ÎèÑÍµ¨","en":"JSON Tool","ja":"JSON„ÉÑ„Éº„É´"}},"options":{"indent":{"ko":"Îì§Ïó¨Ïì∞Í∏∞","en":"Indent","ja":"„Ç§„É≥„Éá„É≥„Éà"},"view":{"ko":"Î≥¥Í∏∞","en":"View","ja":"Ë°®Á§∫"}},"controls":{"format":{"ko":"Ï†ïÎ†¨","en":"Format","ja":"Êï¥ÂΩ¢"},"minify":{"ko":"ÏïïÏ∂ï","en":"Minify","ja":"ÂúßÁ∏Æ"},"validate":{"ko":"Í≤ÄÏ¶ù","en":"Validate","ja":"Ê§úË®º"},"clear":{"ko":"ÏßÄÏö∞Í∏∞","en":"Clear","ja":"„ÇØ„É™„Ç¢"},"sample":{"ko":"ÏÉòÌîå","en":"Sample","ja":"„Çµ„É≥„Éó„É´"}},"panel":{"input":{"ko":"ÏûÖÎ†•","en":"Input","ja":"ÂÖ•Âäõ"},"paste":{"ko":"Î∂ôÏó¨ÎÑ£Í∏∞","en":"Paste","ja":"Ë≤º‰ªò"},"placeholder":{"ko":"JSON ÏûÖÎ†•...","en":"Enter JSON...","ja":"JSONÂÖ•Âäõ..."},"output":{"ko":"Ï∂úÎ†•","en":"Output","ja":"Âá∫Âäõ"},"copy":{"ko":"Î≥µÏÇ¨","en":"Copy","ja":"„Ç≥„Éî„Éº"},"download":{"ko":"Îã§Ïö¥Î°úÎìú","en":"Download","ja":"DL"},"ready":{"ko":"Ï§ÄÎπÑÎê®","en":"Ready","ja":"Ê∫ñÂÇôÂÆå‰∫Ü"}},"features":{"f1":{"title":{"ko":"Ï†ïÎ†¨","en":"Format","ja":"Êï¥ÂΩ¢"},"desc":{"ko":"Î≥¥Í∏∞ Ï¢ãÍ≤å","en":"Pretty","ja":"Á∂∫È∫ó„Å´"}},"f2":{"title":{"ko":"Í≤ÄÏ¶ù","en":"Validate","ja":"Ê§úË®º"},"desc":{"ko":"Ïò§Î•ò ÌôïÏù∏","en":"Check","ja":"Á¢∫Ë™ç"}},"f3":{"title":{"ko":"Í∞ïÏ°∞","en":"Highlight","ja":"Âº∑Ë™ø"},"desc":{"ko":"ÏÉâÏÉÅ","en":"Color","ja":"Ëâ≤"}},"f4":{"title":{"ko":"ÏïïÏ∂ï","en":"Minify","ja":"ÂúßÁ∏Æ"},"desc":{"ko":"ÏûëÍ≤å","en":"Compact","ja":"Â∞è„Åï„Åè"}}},"footer":{"ko":"ÏïàÏ†ÑÌïú ÎèÑÍµ¨","en":"Secure Tool","ja":"ÂÆâÂÖ®„Å™„ÉÑ„Éº„É´"}};</script></head>
<body>
    <div class="container">
        <header>
            <h1>JSON Formatter & Viewer</h1>
            <p class="subtitle">Format and validate your JSON data instantly</p>
        </header>

        <div class="ad-banner">Advertisement</div>

        <div class="options">
            <div class="option-group">
                <label for="indent">Indentation:</label>
                <select id="indent">
                    <option value="2">2 Spaces</option>
                    <option value="4">4 Spaces</option>
                    <option value="tab">Tab</option>
                </select>
            </div>
            <div class="option-group">
                <label for="viewMode">View:</label>
                <select id="viewMode">
                    <option value="formatted">Formatted</option>
                    <option value="tree">Tree View</option>
                    <option value="minified">Minified</option>
                </select>
            </div>
        </div>

        <div class="controls">
            <button class="btn btn-primary" onclick="formatJSON()">Format JSON</button>
            <button class="btn btn-secondary" onclick="minifyJSON()">Minify</button>
            <button class="btn btn-secondary" onclick="validateJSON()">Validate</button>
            <button class="btn btn-secondary" onclick="clearAll()">Clear</button>
            <button class="btn btn-secondary" onclick="loadSample()">Load Sample</button>
        </div>

        <div class="main-content">
            <div class="panel">
                <div class="panel-header">
                    <span class="panel-title">Input JSON</span>
                    <div class="panel-actions">
                        <button class="btn btn-small btn-secondary" onclick="pasteFromClipboard()">Paste</button>
                    </div>
                </div>
                <textarea id="input" placeholder="Paste your JSON here..."></textarea>
                <div class="status-bar">
                    <span id="inputStatus">Ready</span>
                    <span id="inputSize">0 bytes</span>
                </div>
            </div>

            <div class="panel">
                <div class="panel-header">
                    <span class="panel-title">Output</span>
                    <div class="panel-actions">
                        <button class="btn btn-small btn-secondary" onclick="copyOutput()">Copy</button>
                        <button class="btn btn-small btn-secondary" onclick="downloadJSON()">Download</button>
                    </div>
                </div>
                <div class="output-area" id="outputArea">
                    <pre id="output"></pre>
                </div>
                <div class="status-bar">
                    <span id="outputStatus">-</span>
                    <span id="outputSize">0 bytes</span>
                </div>
            </div>
        </div>

        <div class="features">
            <div class="feature">
                <div class="feature-icon">{ }</div>
                <h3>Format & Beautify</h3>
                <p>Beautify JSON with your preferred indentation</p>
            </div>
            <div class="feature">
                <div class="feature-icon">‚úì</div>
                <h3>JSON Validation</h3>
                <p>Validate JSON with detailed error messages</p>
            </div>
            <div class="feature">
                <div class="feature-icon">üëÅ</div>
                <h3>Syntax Highlighting</h3>
                <p>Easy-to-read color-coded output</p>
            </div>
            <div class="feature">
                <div class="feature-icon">üì¶</div>
                <h3>Minify</h3>
                <p>Compress JSON by removing whitespace</p>
            </div>
        </div>

        <div class="ad-banner">Advertisement</div>

        <footer>
            <p>Free JSON Formatter Tool | No data sent to server</p>
        </footer>
    </div>

    <div class="toast" id="toast">...</div>

    <script>
        const input = document.getElementById('input');
        const output = document.getElementById('output');
        const outputArea = document.getElementById('outputArea');
        const indentSelect = document.getElementById('indent');
        const viewModeSelect = document.getElementById('viewMode');

        let lastValidJSON = null;

        input.addEventListener('input', debounce(() => {
            updateInputStatus();
            if (input.value.trim()) formatJSON();
        }, 300));

        function debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                const later = () => { clearTimeout(timeout); func(...args); };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        }

        function getIndent() {
            const value = indentSelect.value;
            return value === 'tab' ? '\t' : parseInt(value);
        }

        function formatJSON() {
            const text = input.value.trim();
            if (!text) {
                output.innerHTML = '';
                outputArea.innerHTML = '<pre id="output"></pre>';
                updateOutputStatus('', false);
                return;
            }

            try {
                const parsed = JSON.parse(text);
                lastValidJSON = parsed;
                const viewMode = viewModeSelect.value;

                if (viewMode === 'tree') {
                    outputArea.innerHTML = '<div class="tree-view" id="treeOutput"></div>';
                    document.getElementById('treeOutput').innerHTML = createTreeView(parsed);
                } else if (viewMode === 'minified') {
                    const minified = JSON.stringify(parsed);
                    outputArea.innerHTML = '<pre id="output"></pre>';
                    document.getElementById('output').textContent = minified;
                    updateOutputStatus(minified, true);
                } else {
                    const formatted = JSON.stringify(parsed, null, getIndent());
                    outputArea.innerHTML = '<pre id="output"></pre>';
                    document.getElementById('output').innerHTML = syntaxHighlight(formatted);
                    updateOutputStatus(formatted, true);
                }

                document.getElementById('inputStatus').textContent = 'Valid JSON';
                document.getElementById('inputStatus').className = 'status-valid';

            } catch (e) {
                outputArea.innerHTML = '<pre id="output"></pre>';
                document.getElementById('output').innerHTML = `<div class="error-message">Error: ${e.message}</div>`;
                document.getElementById('inputStatus').textContent = 'Invalid JSON';
                document.getElementById('inputStatus').className = 'status-invalid';
                updateOutputStatus('', false);
            }
        }

        function minifyJSON() {
            const text = input.value.trim();
            if (!text) return;

            try {
                const parsed = JSON.parse(text);
                const minified = JSON.stringify(parsed);
                outputArea.innerHTML = '<pre id="output"></pre>';
                document.getElementById('output').textContent = minified;
                updateOutputStatus(minified, true);
                showToast('JSON minified!');
            } catch (e) {
                showToast('Invalid JSON!');
            }
        }

        function validateJSON() {
            const text = input.value.trim();
            if (!text) {
                showToast('Please enter JSON');
                return;
            }

            try {
                JSON.parse(text);
                showToast('Valid JSON!');
                document.getElementById('inputStatus').textContent = 'Valid JSON';
                document.getElementById('inputStatus').className = 'status-valid';
            } catch (e) {
                showToast('Invalid: ' + e.message);
                document.getElementById('inputStatus').textContent = 'Invalid JSON';
                document.getElementById('inputStatus').className = 'status-invalid';
            }
        }

        function syntaxHighlight(json) {
            json = json.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');
            return json.replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g, function (match) {
                let cls = 'json-number';
                if (/^"/.test(match)) {
                    cls = /:$/.test(match) ? 'json-key' : 'json-string';
                } else if (/true|false/.test(match)) {
                    cls = 'json-boolean';
                } else if (/null/.test(match)) {
                    cls = 'json-null';
                }
                return '<span class="' + cls + '">' + match + '</span>';
            });
        }

        function createTreeView(obj, key = null) {
            const type = Array.isArray(obj) ? 'array' : typeof obj;
            if (obj === null) return `<span class="json-null">null</span>`;

            if (type === 'object' || type === 'array') {
                const isArray = type === 'array';
                const bracket = isArray ? ['[', ']'] : ['{', '}'];
                if ((isArray ? obj.length : Object.keys(obj).length) === 0) {
                    return `<span class="json-bracket">${bracket[0]}${bracket[1]}</span>`;
                }

                let html = `<span class="collapsible">`;
                html += `<span class="tree-toggle" onclick="this.parentElement.classList.toggle('collapsed')">‚ñº</span>`;
                html += `<span class="json-bracket">${bracket[0]}</span>`;
                html += `<div class="tree-content">`;

                if (isArray) {
                    obj.forEach((item, index) => {
                        html += `<div class="tree-node"><span class="json-key">${index}</span>: ${createTreeView(item)}</div>`;
                    });
                } else {
                    for (const [k, v] of Object.entries(obj)) {
                        html += `<div class="tree-node"><span class="json-key">"${k}"</span>: ${createTreeView(v)}</div>`;
                    }
                }

                html += `</div><span class="json-bracket">${bracket[1]}</span></span>`;
                return html;
            }

            if (type === 'string') return `<span class="json-string">"${escapeHtml(obj)}"</span>`;
            if (type === 'number') return `<span class="json-number">${obj}</span>`;
            if (type === 'boolean') return `<span class="json-boolean">${obj}</span>`;
            return String(obj);
        }

        function escapeHtml(str) {
            return str.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;');
        }

        function updateInputStatus() {
            const text = input.value;
            const bytes = new Blob([text]).size;
            document.getElementById('inputSize').textContent = formatBytes(bytes);
        }

        function updateOutputStatus(text, valid) {
            if (text) {
                const bytes = new Blob([text]).size;
                document.getElementById('outputSize').textContent = formatBytes(bytes);
                document.getElementById('outputStatus').textContent = valid ? 'Formatted' : 'Error';
                document.getElementById('outputStatus').className = valid ? 'status-valid' : 'status-invalid';
            } else {
                document.getElementById('outputSize').textContent = '0 bytes';
                document.getElementById('outputStatus').textContent = '-';
                document.getElementById('outputStatus').className = '';
            }
        }

        function formatBytes(bytes) {
            if (bytes === 0) return '0 bytes';
            const k = 1024;
            const sizes = ['bytes', 'KB', 'MB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }

        function copyOutput() {
            let text;
            const treeOutput = document.getElementById('treeOutput');
            if (treeOutput) {
                text = JSON.stringify(lastValidJSON, null, getIndent());
            } else {
                text = document.getElementById('output').textContent;
            }
            if (!text) { showToast('Nothing to copy'); return; }
            navigator.clipboard.writeText(text).then(() => showToast('Copied to clipboard!'));
        }

        function downloadJSON() {
            let text;
            const treeOutput = document.getElementById('treeOutput');
            if (treeOutput) {
                text = JSON.stringify(lastValidJSON, null, getIndent());
            } else {
                text = document.getElementById('output').textContent;
            }
            if (!text) { showToast('Nothing to download'); return; }

            const blob = new Blob([text], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'formatted.json';
            a.click();
            URL.revokeObjectURL(url);
            showToast('Download complete!');
        }

        async function pasteFromClipboard() {
            try {
                const text = await navigator.clipboard.readText();
                input.value = text;
                updateInputStatus();
                formatJSON();
                showToast('Pasted from clipboard!');
            } catch (e) {
                showToast('Paste failed');
            }
        }

        function clearAll() {
            input.value = '';
            outputArea.innerHTML = '<pre id="output"></pre>';
            document.getElementById('inputStatus').textContent = 'Ready';
            document.getElementById('inputStatus').className = '';
            updateInputStatus();
            updateOutputStatus('', false);
            lastValidJSON = null;
        }

        function loadSample() {
            const sample = {
                "name": "JSON Formatter",
                "version": "1.0.0",
                "features": ["format", "validate", "minify", "tree view"],
                "settings": { "indent": 2, "syntaxHighlight": true },
                "stats": { "users": 10000, "rating": 4.9 },
                "active": true
            };
            input.value = JSON.stringify(sample);
            updateInputStatus();
            formatJSON();
        }

        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.classList.add('show');
            setTimeout(() => toast.classList.remove('show'), 2000);
        }

        viewModeSelect.addEventListener('change', formatJSON);
        indentSelect.addEventListener('change', formatJSON);
    </script>
<script src="/common/share-modal.js"></script><script src="/common/tool-i18n-handler.js"></script></body>
</html>
