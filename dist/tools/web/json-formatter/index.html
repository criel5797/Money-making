<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JSON Formatter & Beautifier - Free Online JSON Pretty Print Tool</title>
    <meta name="description" content="Free online JSON formatter and beautifier. Format, validate, and beautify JSON data instantly. Pretty print JSON with syntax highlighting.">
    <meta name="keywords" content="JSON formatter, JSON beautifier, JSON pretty print, JSON validator, format JSON online, JSON viewer">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://yoursite.com/json-formatter">

    <!-- Open Graph -->
    <meta property="og:title" content="JSON Formatter & Beautifier - Free Online Tool">
    <meta property="og:description" content="Format, validate, and beautify JSON data instantly with syntax highlighting.">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://via.placeholder.com/1200x630/1a1a2e/00ff88?text=JSON+Formatter">
    <link rel="alternate" hreflang="ko" href="index-ko.html">
    <link rel="alternate" hreflang="en" href="index.html">

    <style>
        .lang-switch {
            position: fixed;
            top: 15px;
            right: 20px;
            z-index: 1000;
        }
        .lang-switch a {
            display: inline-block;
            padding: 8px 16px;
            background: #16213e;
            border: 1px solid #334155;
            border-radius: 6px;
            color: #94a3b8;
            text-decoration: none;
            font-size: 0.85rem;
            transition: all 0.2s;
        }
        .lang-switch a:hover {
            background: #00ff88;
            color: #1a1a2e;
            border-color: #00ff88;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            min-height: 100vh;
            color: #e4e4e4;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            text-align: center;
            padding: 30px 0;
        }

        h1 {
            font-size: 2.5rem;
            background: linear-gradient(135deg, #00d9ff, #00ff88);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
        }

        .subtitle {
            color: #888;
            font-size: 1.1rem;
        }

        .ad-banner {
            background: rgba(255,255,255,0.05);
            border: 1px dashed rgba(255,255,255,0.2);
            padding: 20px;
            text-align: center;
            margin: 20px 0;
            border-radius: 8px;
            color: #666;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 20px;
        }

        @media (max-width: 900px) {
            .main-content {
                grid-template-columns: 1fr;
            }
        }

        .panel {
            background: rgba(255,255,255,0.05);
            border-radius: 12px;
            overflow: hidden;
        }

        .panel-header {
            background: rgba(255,255,255,0.08);
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .panel-title {
            font-weight: 600;
            color: #00d9ff;
        }

        .panel-actions {
            display: flex;
            gap: 10px;
        }

        textarea {
            width: 100%;
            height: 500px;
            background: transparent;
            border: none;
            padding: 20px;
            color: #e4e4e4;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 14px;
            resize: none;
            outline: none;
        }

        .output-area {
            height: 500px;
            overflow: auto;
            padding: 20px;
        }

        pre {
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 14px;
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: linear-gradient(135deg, #00d9ff, #00ff88);
            color: #1a1a2e;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(0, 217, 255, 0.3);
        }

        .btn-secondary {
            background: rgba(255,255,255,0.1);
            color: #e4e4e4;
        }

        .btn-secondary:hover {
            background: rgba(255,255,255,0.2);
        }

        .btn-small {
            padding: 6px 12px;
            font-size: 12px;
        }

        .controls {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
            margin: 20px 0;
        }

        .options {
            display: flex;
            gap: 20px;
            justify-content: center;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .option-group {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .option-group label {
            color: #888;
            font-size: 14px;
        }

        select {
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            color: #e4e4e4;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 14px;
            outline: none;
        }

        select option {
            background: #1a1a2e;
        }

        .status-bar {
            display: flex;
            justify-content: space-between;
            padding: 10px 20px;
            background: rgba(0,0,0,0.2);
            font-size: 13px;
            color: #888;
        }

        .status-valid {
            color: #00ff88;
        }

        .status-invalid {
            color: #ff4757;
        }

        /* Syntax highlighting */
        .json-key { color: #00d9ff; }
        .json-string { color: #ffd93d; }
        .json-number { color: #ff6b6b; }
        .json-boolean { color: #ff6b6b; }
        .json-null { color: #888; }
        .json-bracket { color: #888; }

        .toast {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: rgba(0, 255, 136, 0.9);
            color: #1a1a2e;
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: 500;
            opacity: 0;
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .toast.show {
            transform: translateX(-50%) translateY(0);
            opacity: 1;
        }

        .error-message {
            background: rgba(255, 71, 87, 0.1);
            border: 1px solid #ff4757;
            color: #ff4757;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
        }

        footer {
            text-align: center;
            padding: 40px 20px;
            color: #666;
        }

        footer a {
            color: #00d9ff;
            text-decoration: none;
        }

        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 40px 0;
        }

        .feature {
            background: rgba(255,255,255,0.05);
            padding: 25px;
            border-radius: 12px;
            text-align: center;
        }

        .feature-icon {
            font-size: 2rem;
            margin-bottom: 15px;
        }

        .feature h3 {
            color: #00d9ff;
            margin-bottom: 10px;
        }

        .feature p {
            color: #888;
            font-size: 14px;
        }

        .tree-view {
            padding: 10px;
        }

        .tree-node {
            margin-left: 20px;
        }

        .tree-key {
            color: #00d9ff;
            cursor: pointer;
        }

        .tree-toggle {
            cursor: pointer;
            user-select: none;
            margin-right: 5px;
        }

        .tree-value {
            color: #ffd93d;
        }

        .collapsible {
            display: inline;
        }

        .collapsed > .tree-content {
            display: none;
        }
    </style>
</head>
<body>
    <div class="lang-switch"><a href="index-ko.html">한국어</a></div>
    <div class="container">
        <header>
            <h1>JSON Formatter & Beautifier</h1>
            <p class="subtitle">Format, validate, and beautify JSON data instantly</p>
        </header>

        <div class="ad-banner">Advertisement</div>

        <div class="options">
            <div class="option-group">
                <label for="indent">Indent:</label>
                <select id="indent">
                    <option value="2">2 spaces</option>
                    <option value="4">4 spaces</option>
                    <option value="tab">Tab</option>
                </select>
            </div>
            <div class="option-group">
                <label for="viewMode">View:</label>
                <select id="viewMode">
                    <option value="formatted">Formatted</option>
                    <option value="tree">Tree View</option>
                    <option value="minified">Minified</option>
                </select>
            </div>
        </div>

        <div class="controls">
            <button class="btn btn-primary" onclick="formatJSON()">Format JSON</button>
            <button class="btn btn-secondary" onclick="minifyJSON()">Minify</button>
            <button class="btn btn-secondary" onclick="validateJSON()">Validate</button>
            <button class="btn btn-secondary" onclick="clearAll()">Clear</button>
            <button class="btn btn-secondary" onclick="loadSample()">Load Sample</button>
        </div>

        <div class="main-content">
            <div class="panel">
                <div class="panel-header">
                    <span class="panel-title">Input JSON</span>
                    <div class="panel-actions">
                        <button class="btn btn-small btn-secondary" onclick="pasteFromClipboard()">Paste</button>
                    </div>
                </div>
                <textarea id="input" placeholder="Paste your JSON here..."></textarea>
                <div class="status-bar">
                    <span id="inputStatus">Ready</span>
                    <span id="inputSize">0 bytes</span>
                </div>
            </div>

            <div class="panel">
                <div class="panel-header">
                    <span class="panel-title">Output</span>
                    <div class="panel-actions">
                        <button class="btn btn-small btn-secondary" onclick="copyOutput()">Copy</button>
                        <button class="btn btn-small btn-secondary" onclick="downloadJSON()">Download</button>
                    </div>
                </div>
                <div class="output-area" id="outputArea">
                    <pre id="output"></pre>
                </div>
                <div class="status-bar">
                    <span id="outputStatus">-</span>
                    <span id="outputSize">0 bytes</span>
                </div>
            </div>
        </div>

        <div class="features">
            <div class="feature">
                <div class="feature-icon">{ }</div>
                <h3>Format & Beautify</h3>
                <p>Pretty print JSON with customizable indentation</p>
            </div>
            <div class="feature">
                <div class="feature-icon">&#10003;</div>
                <h3>Validate JSON</h3>
                <p>Check if your JSON is valid with detailed error messages</p>
            </div>
            <div class="feature">
                <div class="feature-icon">&#128065;</div>
                <h3>Syntax Highlighting</h3>
                <p>Color-coded output for easy reading</p>
            </div>
            <div class="feature">
                <div class="feature-icon">&#128230;</div>
                <h3>Minify</h3>
                <p>Compress JSON by removing whitespace</p>
            </div>
        </div>

        <div class="ad-banner">Advertisement</div>

        <footer>
            <p>Free JSON Formatter Tool | No data is sent to any server</p>
        </footer>
    </div>

    <div class="toast" id="toast">Copied to clipboard!</div>

    <script>
        const input = document.getElementById('input');
        const output = document.getElementById('output');
        const outputArea = document.getElementById('outputArea');
        const indentSelect = document.getElementById('indent');
        const viewModeSelect = document.getElementById('viewMode');

        let lastValidJSON = null;

        // Auto-format on input
        input.addEventListener('input', debounce(() => {
            updateInputStatus();
            if (input.value.trim()) {
                formatJSON();
            }
        }, 300));

        function debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(timeout);
                    func(...args);
                };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        }

        function getIndent() {
            const value = indentSelect.value;
            return value === 'tab' ? '\t' : parseInt(value);
        }

        function formatJSON() {
            const text = input.value.trim();
            if (!text) {
                output.innerHTML = '';
                outputArea.innerHTML = '<pre id="output"></pre>';
                updateOutputStatus('', false);
                return;
            }

            try {
                const parsed = JSON.parse(text);
                lastValidJSON = parsed;
                const viewMode = viewModeSelect.value;

                if (viewMode === 'tree') {
                    outputArea.innerHTML = '<div class="tree-view" id="treeOutput"></div>';
                    document.getElementById('treeOutput').innerHTML = createTreeView(parsed);
                } else if (viewMode === 'minified') {
                    const minified = JSON.stringify(parsed);
                    outputArea.innerHTML = '<pre id="output"></pre>';
                    document.getElementById('output').textContent = minified;
                    updateOutputStatus(minified, true);
                } else {
                    const formatted = JSON.stringify(parsed, null, getIndent());
                    outputArea.innerHTML = '<pre id="output"></pre>';
                    document.getElementById('output').innerHTML = syntaxHighlight(formatted);
                    updateOutputStatus(formatted, true);
                }

                document.getElementById('inputStatus').textContent = 'Valid JSON';
                document.getElementById('inputStatus').className = 'status-valid';

            } catch (e) {
                outputArea.innerHTML = '<pre id="output"></pre>';
                document.getElementById('output').innerHTML = `<div class="error-message">Error: ${e.message}</div>`;
                document.getElementById('inputStatus').textContent = 'Invalid JSON';
                document.getElementById('inputStatus').className = 'status-invalid';
                updateOutputStatus('', false);
            }
        }

        function minifyJSON() {
            const text = input.value.trim();
            if (!text) return;

            try {
                const parsed = JSON.parse(text);
                const minified = JSON.stringify(parsed);
                outputArea.innerHTML = '<pre id="output"></pre>';
                document.getElementById('output').textContent = minified;
                updateOutputStatus(minified, true);
                showToast('JSON minified!');
            } catch (e) {
                showToast('Invalid JSON!');
            }
        }

        function validateJSON() {
            const text = input.value.trim();
            if (!text) {
                showToast('Please enter JSON');
                return;
            }

            try {
                JSON.parse(text);
                showToast('Valid JSON!');
                document.getElementById('inputStatus').textContent = 'Valid JSON';
                document.getElementById('inputStatus').className = 'status-valid';
            } catch (e) {
                showToast('Invalid: ' + e.message);
                document.getElementById('inputStatus').textContent = 'Invalid JSON';
                document.getElementById('inputStatus').className = 'status-invalid';
            }
        }

        function syntaxHighlight(json) {
            json = json.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');
            return json.replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g, function (match) {
                let cls = 'json-number';
                if (/^"/.test(match)) {
                    if (/:$/.test(match)) {
                        cls = 'json-key';
                    } else {
                        cls = 'json-string';
                    }
                } else if (/true|false/.test(match)) {
                    cls = 'json-boolean';
                } else if (/null/.test(match)) {
                    cls = 'json-null';
                }
                return '<span class="' + cls + '">' + match + '</span>';
            });
        }

        function createTreeView(obj, key = null) {
            const type = Array.isArray(obj) ? 'array' : typeof obj;

            if (obj === null) {
                return `<span class="json-null">null</span>`;
            }

            if (type === 'object' || type === 'array') {
                const isArray = type === 'array';
                const entries = isArray ? obj : Object.entries(obj);
                const bracket = isArray ? ['[', ']'] : ['{', '}'];

                if ((isArray ? obj.length : Object.keys(obj).length) === 0) {
                    return `<span class="json-bracket">${bracket[0]}${bracket[1]}</span>`;
                }

                let html = `<span class="collapsible">`;
                html += `<span class="tree-toggle" onclick="this.parentElement.classList.toggle('collapsed')">&#9660;</span>`;
                html += `<span class="json-bracket">${bracket[0]}</span>`;
                html += `<div class="tree-content">`;

                if (isArray) {
                    obj.forEach((item, index) => {
                        html += `<div class="tree-node"><span class="json-key">${index}</span>: ${createTreeView(item)}</div>`;
                    });
                } else {
                    for (const [k, v] of Object.entries(obj)) {
                        html += `<div class="tree-node"><span class="json-key">"${k}"</span>: ${createTreeView(v)}</div>`;
                    }
                }

                html += `</div><span class="json-bracket">${bracket[1]}</span></span>`;
                return html;
            }

            if (type === 'string') {
                return `<span class="json-string">"${escapeHtml(obj)}"</span>`;
            }

            if (type === 'number') {
                return `<span class="json-number">${obj}</span>`;
            }

            if (type === 'boolean') {
                return `<span class="json-boolean">${obj}</span>`;
            }

            return String(obj);
        }

        function escapeHtml(str) {
            return str.replace(/&/g, '&amp;')
                      .replace(/</g, '&lt;')
                      .replace(/>/g, '&gt;')
                      .replace(/"/g, '&quot;');
        }

        function updateInputStatus() {
            const text = input.value;
            const bytes = new Blob([text]).size;
            document.getElementById('inputSize').textContent = formatBytes(bytes);
        }

        function updateOutputStatus(text, valid) {
            if (text) {
                const bytes = new Blob([text]).size;
                document.getElementById('outputSize').textContent = formatBytes(bytes);
                document.getElementById('outputStatus').textContent = valid ? 'Formatted' : 'Error';
                document.getElementById('outputStatus').className = valid ? 'status-valid' : 'status-invalid';
            } else {
                document.getElementById('outputSize').textContent = '0 bytes';
                document.getElementById('outputStatus').textContent = '-';
                document.getElementById('outputStatus').className = '';
            }
        }

        function formatBytes(bytes) {
            if (bytes === 0) return '0 bytes';
            const k = 1024;
            const sizes = ['bytes', 'KB', 'MB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }

        function copyOutput() {
            let text;
            const treeOutput = document.getElementById('treeOutput');
            if (treeOutput) {
                text = JSON.stringify(lastValidJSON, null, getIndent());
            } else {
                text = document.getElementById('output').textContent;
            }

            if (!text) {
                showToast('Nothing to copy');
                return;
            }

            navigator.clipboard.writeText(text).then(() => {
                showToast('Copied to clipboard!');
            });
        }

        function downloadJSON() {
            let text;
            const treeOutput = document.getElementById('treeOutput');
            if (treeOutput) {
                text = JSON.stringify(lastValidJSON, null, getIndent());
            } else {
                text = document.getElementById('output').textContent;
            }

            if (!text) {
                showToast('Nothing to download');
                return;
            }

            const blob = new Blob([text], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'formatted.json';
            a.click();
            URL.revokeObjectURL(url);
            showToast('Downloaded!');
        }

        async function pasteFromClipboard() {
            try {
                const text = await navigator.clipboard.readText();
                input.value = text;
                updateInputStatus();
                formatJSON();
                showToast('Pasted from clipboard!');
            } catch (e) {
                showToast('Unable to paste');
            }
        }

        function clearAll() {
            input.value = '';
            outputArea.innerHTML = '<pre id="output"></pre>';
            document.getElementById('inputStatus').textContent = 'Ready';
            document.getElementById('inputStatus').className = '';
            updateInputStatus();
            updateOutputStatus('', false);
            lastValidJSON = null;
        }

        function loadSample() {
            const sample = {
                "name": "JSON Formatter",
                "version": "1.0.0",
                "features": ["format", "validate", "minify", "tree view"],
                "config": {
                    "indent": 2,
                    "highlighting": true
                },
                "stats": {
                    "users": 10000,
                    "rating": 4.9
                },
                "active": true
            };
            input.value = JSON.stringify(sample);
            updateInputStatus();
            formatJSON();
        }

        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.classList.add('show');
            setTimeout(() => toast.classList.remove('show'), 2000);
        }

        // View mode change handler
        viewModeSelect.addEventListener('change', formatJSON);
        indentSelect.addEventListener('change', formatJSON);
    </script>
</body>
</html>