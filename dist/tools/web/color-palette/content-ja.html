<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼ - ç„¡æ–™é…è‰²ãƒ„ãƒ¼ãƒ«</title>
    <meta name="description" content="ç„¡æ–™ã®ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼ã€‚ç¾ã—ã„é…è‰²ã‚’ç¬æ™‚ã«ä½œæˆã§ãã¾ã™ã€‚èª¿å’Œã®ã¨ã‚ŒãŸè£œè‰²ã€é¡ä¼¼è‰²ã®ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆã‚’ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ä½¿ç”¨ã—ã¾ã—ã‚‡ã†ã€‚">
    <meta name="keywords" content="ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆ, é…è‰², ã‚«ãƒ©ãƒ¼ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼, ã‚«ãƒ©ãƒ¼ãƒ”ãƒƒã‚«ãƒ¼, ãƒ‡ã‚¶ã‚¤ãƒ³è‰², ãƒ‘ãƒ¬ãƒƒãƒˆã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼">

    <meta property="og:title" content="ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼ - ç„¡æ–™é…è‰²ãƒ„ãƒ¼ãƒ«">
    <meta property="og:description" content="ç¾ã—ã„é…è‰²ã‚’ç¬æ™‚ã«ä½œæˆã§ãã¾ã™ã€‚ç„¡æ–™ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ãƒ„ãƒ¼ãƒ«ã€‚">
    <meta property="og:type" content="website">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;600;700&display=swap" rel="stylesheet">

    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Noto Sans JP', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #1a1a2e;
            min-height: 100vh;
            color: #e4e4e4;
        }
        .container { max-width: 1200px; margin: 0 auto; padding: 20px; }
        header { text-align: center; padding: 30px 0; position: relative; }

        .lang-switch {
            position: absolute;
            top: 0;
            right: 0;
        }

        .lang-switch a {
            color: #888;
            text-decoration: none;
            padding: 8px 16px;
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 6px;
            font-size: 0.9rem;
            transition: all 0.3s;
        }

        .lang-switch a:hover {
            border-color: #667eea;
            color: #667eea;
        }

        h1 {
            font-size: 2.5rem;
            background: linear-gradient(135deg, #ff6b6b, #feca57, #48dbfb, #ff9ff3);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
        }
        .subtitle { color: #888; font-size: 1.1rem; }
        .ad-banner {
            background: rgba(255,255,255,0.05);
            border: 1px dashed rgba(255,255,255,0.2);
            padding: 20px;
            text-align: center;
            margin: 20px 0;
            border-radius: 8px;
            color: #666;
        }

        .controls {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
            margin: 30px 0;
            padding: 20px;
            background: rgba(255,255,255,0.05);
            border-radius: 12px;
        }
        .control-group {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .control-group label { color: #888; font-size: 14px; }
        select {
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            color: #e4e4e4;
            padding: 10px 15px;
            border-radius: 8px;
            font-size: 14px;
            outline: none;
            cursor: pointer;
        }
        select option { background: #1a1a2e; }
        .color-picker-wrapper {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        input[type="color"] {
            width: 45px;
            height: 35px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            background: transparent;
        }
        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            font-size: 14px;
            transition: all 0.3s ease;
        }
        .btn-primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }
        .btn-secondary {
            background: rgba(255,255,255,0.1);
            color: #e4e4e4;
        }
        .btn-secondary:hover { background: rgba(255,255,255,0.2); }

        .palette-container {
            display: flex;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            margin: 30px 0;
            min-height: 350px;
        }
        .color-strip {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            padding: 20px;
            cursor: pointer;
            transition: flex 0.3s;
            position: relative;
        }
        .color-strip:hover { flex: 1.2; }
        .color-strip.locked::after {
            content: 'ğŸ”’';
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 20px;
        }
        .color-info {
            background: rgba(0,0,0,0.3);
            backdrop-filter: blur(10px);
            padding: 15px;
            border-radius: 10px;
        }
        .color-hex {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 5px;
            font-family: monospace;
        }
        .color-rgb { font-size: 12px; opacity: 0.8; }
        .color-actions {
            display: flex;
            gap: 8px;
            margin-top: 10px;
        }
        .color-action-btn {
            padding: 6px 12px;
            background: rgba(255,255,255,0.2);
            border: none;
            border-radius: 5px;
            color: white;
            font-size: 11px;
            cursor: pointer;
            transition: background 0.3s;
        }
        .color-action-btn:hover { background: rgba(255,255,255,0.3); }

        .export-section {
            background: rgba(255,255,255,0.05);
            border-radius: 12px;
            padding: 25px;
            margin: 30px 0;
        }
        .export-section h3 { color: #667eea; margin-bottom: 20px; }
        .export-formats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }
        .export-card {
            background: rgba(255,255,255,0.05);
            padding: 15px;
            border-radius: 10px;
        }
        .export-card h4 { color: #aaa; font-size: 13px; margin-bottom: 10px; }
        .export-code {
            background: rgba(0,0,0,0.3);
            padding: 12px;
            border-radius: 6px;
            font-family: monospace;
            font-size: 12px;
            overflow-x: auto;
            white-space: nowrap;
            cursor: pointer;
        }
        .export-code:hover { background: rgba(0,0,0,0.5); }

        .keyboard-hint {
            text-align: center;
            color: #666;
            font-size: 14px;
            margin-top: 20px;
        }
        .keyboard-hint kbd {
            background: rgba(255,255,255,0.1);
            padding: 4px 8px;
            border-radius: 4px;
            margin: 0 3px;
        }

        .saved-palettes { margin-top: 40px; }
        .saved-palettes h3 { color: #667eea; margin-bottom: 20px; }
        .saved-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 15px;
        }
        .saved-palette {
            display: flex;
            height: 60px;
            border-radius: 10px;
            overflow: hidden;
            cursor: pointer;
            transition: transform 0.3s;
        }
        .saved-palette:hover { transform: scale(1.02); }
        .saved-color { flex: 1; }

        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 20px;
            margin: 40px 0;
        }
        .feature {
            background: rgba(255,255,255,0.05);
            padding: 25px;
            border-radius: 12px;
            text-align: center;
        }
        .feature-icon { font-size: 2rem; margin-bottom: 15px; }
        .feature h3 { color: #667eea; margin-bottom: 10px; font-size: 16px; }
        .feature p { color: #888; font-size: 14px; }

        .toast {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: #667eea;
            color: white;
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: 500;
            opacity: 0;
            transition: all 0.3s ease;
            z-index: 1000;
        }
        .toast.show { transform: translateX(-50%) translateY(0); opacity: 1; }

        footer { text-align: center; padding: 40px 20px; color: #666; }

        @media (max-width: 768px) {
            h1 { font-size: 1.8rem; }
            .palette-container {
                flex-direction: column;
                min-height: auto;
            }
            .color-strip {
                min-height: 100px;
            }
            .color-strip:hover { flex: 1; }
            .lang-switch { position: static; margin-bottom: 20px; }
            header { padding-top: 20px; }
        }
    </style>
<script>window.currentLang="ja";window.toolI18n={"meta":{"title":{"ko":"ì»¬ëŸ¬ íŒ”ë ˆíŠ¸","en":"Color Palette","ja":"ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆ"},"desc":{"ko":"ìƒ‰ìƒ ì¡°í•© ìƒì„±","en":"Generate Colors","ja":"é…è‰²ç”Ÿæˆ"}},"header":{"title":{"ko":"ì»¬ëŸ¬ íŒ”ë ˆíŠ¸","en":"Color Palette","ja":"ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆ"},"subtitle":{"ko":"ì•„ë¦„ë‹¤ìš´ ìƒ‰ìƒ ì¡°í•©","en":"Beautiful Schemes","ja":"ç¾ã—ã„é…è‰²"}},"controls":{"scheme":{"ko":"ì¡°í•© ë°©ì‹","en":"Scheme","ja":"é…è‰²ãƒ‘ã‚¿ãƒ¼ãƒ³"},"base":{"ko":"ê¸°ì¤€ ìƒ‰ìƒ","en":"Base Color","ja":"åŸºæº–è‰²"},"gen":{"ko":"ìƒì„± (Space)","en":"Generate (Space)","ja":"ç”Ÿæˆ (Space)"},"save":{"ko":"ì €ì¥","en":"Save","ja":"ä¿å­˜"}},"export":{"title":{"ko":"ë‚´ë³´ë‚´ê¸°","en":"Export","ja":"ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ"}},"saved":{"title":{"ko":"ì €ì¥ëœ íŒ”ë ˆíŠ¸","en":"Saved Palettes","ja":"ä¿å­˜ã•ã‚ŒãŸãƒ‘ãƒ¬ãƒƒãƒˆ"}},"features":{"multi":{"ko":"ë‹¤ì–‘í•œ ì¡°í•©","en":"Multiple Schemes","ja":"å¤šæ§˜ãªãƒ‘ã‚¿ãƒ¼ãƒ³"},"lock":{"ko":"ìƒ‰ìƒ ì ê¸ˆ","en":"Lock Colors","ja":"è‰²ã‚’ãƒ­ãƒƒã‚¯"},"exp":{"ko":"ì‰¬ìš´ ë‚´ë³´ë‚´ê¸°","en":"Easy Export","ja":"ç°¡å˜ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ"},"save":{"ko":"ì €ì¥ ê¸°ëŠ¥","en":"Save Feature","ja":"ä¿å­˜æ©Ÿèƒ½"}}};</script></head>
<body>
    <div class="container">
        <header>
            <div class="lang-switch">
                <a href="index.html">English</a>
            </div>
            <h1>ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼</h1>
            <p class="subtitle">ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç¾ã—ã„é…è‰²ã‚’ä½œæˆ</p>
        </header>

        <div class="ad-banner">åºƒå‘Š</div>

        <div class="controls">
            <div class="control-group">
                <label>é…è‰²:</label>
                <select id="schemeType" onchange="generatePalette()">
                    <option value="random">ãƒ©ãƒ³ãƒ€ãƒ </option>
                    <option value="monochromatic">ãƒ¢ãƒã‚¯ãƒ­ãƒãƒ†ã‚£ãƒƒã‚¯</option>
                    <option value="analogous">é¡ä¼¼è‰²</option>
                    <option value="complementary">è£œè‰²</option>
                    <option value="triadic">ãƒˆãƒ©ã‚¤ã‚¢ãƒ‰</option>
                    <option value="tetradic">ãƒ†ãƒˆãƒ©ãƒ‡ã‚£ãƒƒã‚¯</option>
                    <option value="warm">æš–è‰²</option>
                    <option value="cool">å¯’è‰²</option>
                    <option value="pastel">ãƒ‘ã‚¹ãƒ†ãƒ«</option>
                </select>
            </div>
            <div class="control-group color-picker-wrapper">
                <label>ãƒ™ãƒ¼ã‚¹ã‚«ãƒ©ãƒ¼:</label>
                <input type="color" id="baseColor" value="#667eea" onchange="generatePalette()">
            </div>
            <button class="btn btn-primary" onclick="generatePalette()">ç”Ÿæˆ (ã‚¹ãƒšãƒ¼ã‚¹)</button>
            <button class="btn btn-secondary" onclick="savePalette()">ä¿å­˜</button>
        </div>

        <div class="palette-container" id="paletteContainer"></div>

        <div class="keyboard-hint">
            <kbd>ã‚¹ãƒšãƒ¼ã‚¹</kbd> æ–°ã—ã„ãƒ‘ãƒ¬ãƒƒãƒˆã‚’ç”Ÿæˆ &nbsp;&nbsp;
            <kbd>ã‚¯ãƒªãƒƒã‚¯</kbd> ã‚«ãƒ©ãƒ¼ã‚’ã‚³ãƒ”ãƒ¼ &nbsp;&nbsp;
            <kbd>ãƒ€ãƒ–ãƒ«ã‚¯ãƒªãƒƒã‚¯</kbd> ã‚«ãƒ©ãƒ¼ã‚’ãƒ­ãƒƒã‚¯
        </div>

        <div class="export-section">
            <h3>ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ</h3>
            <div class="export-formats">
                <div class="export-card">
                    <h4>CSSå¤‰æ•°</h4>
                    <div class="export-code" id="exportCSS" onclick="copyExport('css')"></div>
                </div>
                <div class="export-card">
                    <h4>Tailwindè¨­å®š</h4>
                    <div class="export-code" id="exportTailwind" onclick="copyExport('tailwind')"></div>
                </div>
                <div class="export-card">
                    <h4>SCSSå¤‰æ•°</h4>
                    <div class="export-code" id="exportSCSS" onclick="copyExport('scss')"></div>
                </div>
                <div class="export-card">
                    <h4>é…åˆ—</h4>
                    <div class="export-code" id="exportArray" onclick="copyExport('array')"></div>
                </div>
            </div>
        </div>

        <div class="saved-palettes" id="savedSection" style="display:none;">
            <h3>ä¿å­˜ã—ãŸãƒ‘ãƒ¬ãƒƒãƒˆ</h3>
            <div class="saved-grid" id="savedGrid"></div>
        </div>

        <div class="features">
            <div class="feature">
                <div class="feature-icon">&#127912;</div>
                <h3>å¤šæ§˜ãªé…è‰²</h3>
                <p>èª¿å’Œã®ã¨ã‚ŒãŸè£œè‰²ã€é¡ä¼¼è‰²ãªã©</p>
            </div>
            <div class="feature">
                <div class="feature-icon">&#128274;</div>
                <h3>ã‚«ãƒ©ãƒ¼ãƒ­ãƒƒã‚¯</h3>
                <p>ãŠæ°—ã«å…¥ã‚Šã®è‰²ã‚’ä¿æŒã—ã¦æ–°è¦ç”Ÿæˆ</p>
            </div>
            <div class="feature">
                <div class="feature-icon">&#128190;</div>
                <h3>ç°¡å˜ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ</h3>
                <p>CSSã€SCSSã€Tailwindãªã©ã«å‡ºåŠ›</p>
            </div>
            <div class="feature">
                <div class="feature-icon">&#128173;</div>
                <h3>ãƒ‘ãƒ¬ãƒƒãƒˆä¿å­˜</h3>
                <p>ãŠæ°—ã«å…¥ã‚Šã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã«ä¿å­˜</p>
            </div>
        </div>

        <div class="ad-banner">åºƒå‘Š</div>

        <footer>
            <p>ç„¡æ–™ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼ | ã‚¹ãƒšãƒ¼ã‚¹ã‚­ãƒ¼ã§æ–°ã—ã„è‰²ã‚’ç”Ÿæˆ</p>
        </footer>
    </div>

    <div class="toast" id="toast">ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼</div>

    <script>
        let palette = [];
        let lockedIndices = new Set();
        const NUM_COLORS = 5;

        function hexToHSL(hex) {
            let r = parseInt(hex.slice(1, 3), 16) / 255;
            let g = parseInt(hex.slice(3, 5), 16) / 255;
            let b = parseInt(hex.slice(5, 7), 16) / 255;

            let max = Math.max(r, g, b), min = Math.min(r, g, b);
            let h, s, l = (max + min) / 2;

            if (max === min) {
                h = s = 0;
            } else {
                let d = max - min;
                s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
                switch (max) {
                    case r: h = ((g - b) / d + (g < b ? 6 : 0)) / 6; break;
                    case g: h = ((b - r) / d + 2) / 6; break;
                    case b: h = ((r - g) / d + 4) / 6; break;
                }
            }

            return { h: h * 360, s: s * 100, l: l * 100 };
        }

        function hslToHex(h, s, l) {
            s /= 100;
            l /= 100;
            const a = s * Math.min(l, 1 - l);
            const f = n => {
                const k = (n + h / 30) % 12;
                const color = l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);
                return Math.round(255 * color).toString(16).padStart(2, '0');
            };
            return `#${f(0)}${f(8)}${f(4)}`;
        }

        function hexToRGB(hex) {
            return {
                r: parseInt(hex.slice(1, 3), 16),
                g: parseInt(hex.slice(3, 5), 16),
                b: parseInt(hex.slice(5, 7), 16)
            };
        }

        function getContrastColor(hex) {
            const rgb = hexToRGB(hex);
            const luminance = (0.299 * rgb.r + 0.587 * rgb.g + 0.114 * rgb.b) / 255;
            return luminance > 0.5 ? '#000000' : '#ffffff';
        }

        function randomHex() {
            return '#' + Math.floor(Math.random()*16777215).toString(16).padStart(6, '0');
        }

        function generatePalette() {
            const scheme = document.getElementById('schemeType').value;
            const baseHex = document.getElementById('baseColor').value;
            const baseHSL = hexToHSL(baseHex);

            for (let i = 0; i < NUM_COLORS; i++) {
                if (lockedIndices.has(i)) continue;

                let color;
                switch (scheme) {
                    case 'monochromatic':
                        color = hslToHex(baseHSL.h, baseHSL.s, 20 + (i * 15));
                        break;
                    case 'analogous':
                        color = hslToHex((baseHSL.h + (i - 2) * 30 + 360) % 360, baseHSL.s, 50 + Math.random() * 20);
                        break;
                    case 'complementary':
                        color = hslToHex((baseHSL.h + (i % 2) * 180) % 360, baseHSL.s, 30 + i * 10);
                        break;
                    case 'triadic':
                        color = hslToHex((baseHSL.h + (i % 3) * 120) % 360, baseHSL.s, 40 + i * 8);
                        break;
                    case 'tetradic':
                        color = hslToHex((baseHSL.h + i * 90) % 360, baseHSL.s, 40 + i * 8);
                        break;
                    case 'warm':
                        color = hslToHex(Math.random() * 60, 70 + Math.random() * 30, 50 + Math.random() * 30);
                        break;
                    case 'cool':
                        color = hslToHex(180 + Math.random() * 120, 50 + Math.random() * 40, 40 + Math.random() * 30);
                        break;
                    case 'pastel':
                        color = hslToHex(Math.random() * 360, 40 + Math.random() * 30, 75 + Math.random() * 15);
                        break;
                    default:
                        color = randomHex();
                }
                palette[i] = color;
            }

            renderPalette();
            updateExports();
        }

        function renderPalette() {
            const container = document.getElementById('paletteContainer');
            container.innerHTML = palette.map((color, i) => {
                const rgb = hexToRGB(color);
                const textColor = getContrastColor(color);
                const isLocked = lockedIndices.has(i);

                return `
                    <div class="color-strip ${isLocked ? 'locked' : ''}"
                         style="background: ${color}; color: ${textColor}"
                         onclick="copyColor(${i})"
                         ondblclick="toggleLock(${i})">
                        <div class="color-info">
                            <div class="color-hex">${color.toUpperCase()}</div>
                            <div class="color-rgb">rgb(${rgb.r}, ${rgb.g}, ${rgb.b})</div>
                            <div class="color-actions">
                                <button class="color-action-btn" onclick="event.stopPropagation(); copyColor(${i})">ã‚³ãƒ”ãƒ¼</button>
                                <button class="color-action-btn" onclick="event.stopPropagation(); toggleLock(${i})">${isLocked ? 'ãƒ­ãƒƒã‚¯è§£é™¤' : 'ãƒ­ãƒƒã‚¯'}</button>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function copyColor(index) {
            navigator.clipboard.writeText(palette[index]).then(() => {
                showToast(`ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ: ${palette[index]}`);
            });
        }

        function toggleLock(index) {
            if (lockedIndices.has(index)) {
                lockedIndices.delete(index);
            } else {
                lockedIndices.add(index);
            }
            renderPalette();
        }

        function updateExports() {
            const colors = palette;

            const css = colors.map((c, i) => `--color-${i + 1}: ${c};`).join(' ');
            document.getElementById('exportCSS').textContent = css;

            const tailwind = colors.map((c, i) => `'${i + 1}': '${c}'`).join(', ');
            document.getElementById('exportTailwind').textContent = `{ ${tailwind} }`;

            const scss = colors.map((c, i) => `$color-${i + 1}: ${c};`).join(' ');
            document.getElementById('exportSCSS').textContent = scss;

            const array = JSON.stringify(colors);
            document.getElementById('exportArray').textContent = array;
        }

        function copyExport(type) {
            let text;
            switch (type) {
                case 'css':
                    text = document.getElementById('exportCSS').textContent;
                    break;
                case 'tailwind':
                    text = document.getElementById('exportTailwind').textContent;
                    break;
                case 'scss':
                    text = document.getElementById('exportSCSS').textContent;
                    break;
                case 'array':
                    text = document.getElementById('exportArray').textContent;
                    break;
            }
            navigator.clipboard.writeText(text).then(() => {
                showToast('ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼');
            });
        }

        function savePalette() {
            let saved = JSON.parse(localStorage.getItem('savedPalettes') || '[]');
            saved.unshift([...palette]);
            if (saved.length > 10) saved = saved.slice(0, 10);
            localStorage.setItem('savedPalettes', JSON.stringify(saved));
            renderSavedPalettes();
            showToast('ãƒ‘ãƒ¬ãƒƒãƒˆã‚’ä¿å­˜ã—ã¾ã—ãŸï¼');
        }

        function renderSavedPalettes() {
            const saved = JSON.parse(localStorage.getItem('savedPalettes') || '[]');
            const section = document.getElementById('savedSection');
            const grid = document.getElementById('savedGrid');

            if (saved.length === 0) {
                section.style.display = 'none';
                return;
            }

            section.style.display = 'block';
            grid.innerHTML = saved.map((colors, i) => `
                <div class="saved-palette" onclick="loadPalette(${i})">
                    ${colors.map(c => `<div class="saved-color" style="background: ${c}"></div>`).join('')}
                </div>
            `).join('');
        }

        function loadPalette(index) {
            const saved = JSON.parse(localStorage.getItem('savedPalettes') || '[]');
            if (saved[index]) {
                palette = [...saved[index]];
                lockedIndices.clear();
                renderPalette();
                updateExports();
                showToast('ãƒ‘ãƒ¬ãƒƒãƒˆã‚’èª­ã¿è¾¼ã¿ã¾ã—ãŸï¼');
            }
        }

        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.classList.add('show');
            setTimeout(() => toast.classList.remove('show'), 2000);
        }

        document.addEventListener('keydown', (e) => {
            if (e.code === 'Space' && e.target.tagName !== 'INPUT') {
                e.preventDefault();
                generatePalette();
            }
        });

        palette = Array(NUM_COLORS).fill(null);
        generatePalette();
        renderSavedPalettes();
    </script>
<script src="/common/tool-i18n-handler.js"></script></body>
</html>
