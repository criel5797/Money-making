<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë¹„ë°€ë²ˆí˜¸ ìƒì„±ê¸° - ë¬´ë£Œ ì•ˆì „í•œ ë¹„ë°€ë²ˆí˜¸ ë§Œë“¤ê¸°</title>
    <meta name="description" content="ê°•ë ¥í•˜ê³  ì•ˆì „í•œ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì¦‰ì‹œ ìƒì„±í•˜ì„¸ìš”. ê¸¸ì´, ë¬¸ì ì¢…ë¥˜ë¥¼ ì„¤ì •í•˜ê³  ë¹„ë°€ë²ˆí˜¸ ê°•ë„ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.">
    <meta name="keywords" content="ë¹„ë°€ë²ˆí˜¸ ìƒì„±ê¸°, íŒ¨ìŠ¤ì›Œë“œ ìƒì„±ê¸°, ì•ˆì „í•œ ë¹„ë°€ë²ˆí˜¸, ê°•ë ¥í•œ ë¹„ë°€ë²ˆí˜¸, ëœë¤ ë¹„ë°€ë²ˆí˜¸">
    <meta property="og:title" content="ë¹„ë°€ë²ˆí˜¸ ìƒì„±ê¸° - ë¬´ë£Œ ì•ˆì „í•œ ë¹„ë°€ë²ˆí˜¸ ë§Œë“¤ê¸°">
    <meta property="og:description" content="ê°•ë ¥í•˜ê³  ì•ˆì „í•œ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì¦‰ì‹œ ìƒì„±í•˜ì„¸ìš”.">
    <meta property="og:type" content="website">

    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root {
            --bg-primary: #0f172a;
            --bg-secondary: #1e293b;
            --bg-tertiary: #334155;
            --text-primary: #f8fafc;
            --text-secondary: #94a3b8;
            --accent: #22c55e;
            --accent-hover: #16a34a;
            --border: #475569;
            --weak: #ef4444;
            --medium: #f59e0b;
            --strong: #22c55e;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Noto Sans KR', sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
        }
        .container { max-width: 700px; margin: 0 auto; padding: 20px; }
        header { text-align: center; padding: 40px 20px; }
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            background: linear-gradient(135deg, #22c55e, #3b82f6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .subtitle { color: var(--text-secondary); }
        .ad-banner {
            background: var(--bg-secondary);
            border: 1px dashed var(--border);
            padding: 20px;
            text-align: center;
            margin: 20px 0;
            border-radius: 8px;
            color: var(--text-secondary);
        }

        /* Password Display */
        .password-card {
            background: var(--bg-secondary);
            border-radius: 16px;
            padding: 25px;
            margin: 20px 0;
            border: 1px solid var(--border);
        }
        .password-display {
            display: flex;
            align-items: center;
            gap: 15px;
            background: var(--bg-primary);
            border: 2px solid var(--border);
            border-radius: 12px;
            padding: 15px 20px;
            margin-bottom: 15px;
        }
        .password-text {
            flex: 1;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 1.3rem;
            word-break: break-all;
            color: var(--accent);
            user-select: all;
        }
        .password-actions {
            display: flex;
            gap: 10px;
        }
        .icon-btn {
            width: 45px;
            height: 45px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--bg-tertiary);
            border: 1px solid var(--border);
            border-radius: 8px;
            color: var(--text-primary);
            cursor: pointer;
            font-size: 1.2rem;
            transition: all 0.2s;
        }
        .icon-btn:hover {
            background: var(--accent);
            border-color: var(--accent);
        }

        /* Strength Meter */
        .strength-meter {
            margin-bottom: 20px;
        }
        .strength-bar {
            height: 8px;
            background: var(--bg-tertiary);
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 8px;
        }
        .strength-fill {
            height: 100%;
            border-radius: 4px;
            transition: width 0.3s, background 0.3s;
        }
        .strength-text {
            display: flex;
            justify-content: space-between;
            font-size: 0.85rem;
        }
        .strength-label { color: var(--text-secondary); }

        /* Options */
        .options-section {
            margin-top: 25px;
        }
        .option-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid var(--border);
        }
        .option-row:last-child { border-bottom: none; }
        .option-label {
            display: flex;
            flex-direction: column;
        }
        .option-title { font-weight: 500; }
        .option-desc { font-size: 0.8rem; color: var(--text-secondary); }

        /* Length Slider */
        .length-slider {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        input[type="range"] {
            flex: 1;
            height: 8px;
            -webkit-appearance: none;
            background: var(--bg-tertiary);
            border-radius: 4px;
            outline: none;
        }
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 22px;
            height: 22px;
            background: var(--accent);
            border-radius: 50%;
            cursor: pointer;
        }
        .length-value {
            width: 50px;
            padding: 8px;
            background: var(--bg-primary);
            border: 1px solid var(--border);
            border-radius: 6px;
            color: var(--text-primary);
            text-align: center;
            font-family: monospace;
            font-weight: 600;
        }

        /* Toggle Switch */
        .toggle {
            position: relative;
            width: 50px;
            height: 26px;
        }
        .toggle input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--bg-tertiary);
            transition: 0.3s;
            border-radius: 26px;
        }
        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 20px;
            width: 20px;
            left: 3px;
            bottom: 3px;
            background: white;
            transition: 0.3s;
            border-radius: 50%;
        }
        .toggle input:checked + .toggle-slider {
            background: var(--accent);
        }
        .toggle input:checked + .toggle-slider:before {
            transform: translateX(24px);
        }

        /* Generate Button */
        .generate-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, var(--accent), #3b82f6);
            border: none;
            border-radius: 10px;
            color: white;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            margin-top: 20px;
        }
        .generate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(34, 197, 94, 0.3);
        }

        /* History */
        .history-section {
            background: var(--bg-secondary);
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            border: 1px solid var(--border);
        }
        .history-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        .history-title { font-weight: 600; }
        .history-clear {
            padding: 6px 12px;
            background: var(--bg-tertiary);
            border: 1px solid var(--border);
            border-radius: 6px;
            color: var(--text-secondary);
            cursor: pointer;
            font-size: 0.8rem;
        }
        .history-list {
            display: flex;
            flex-direction: column;
            gap: 8px;
            max-height: 200px;
            overflow-y: auto;
        }
        .history-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 12px;
            background: var(--bg-primary);
            border-radius: 6px;
            font-family: monospace;
            font-size: 0.9rem;
        }
        .history-item-copy {
            padding: 4px 10px;
            background: var(--accent);
            border: none;
            border-radius: 4px;
            color: white;
            cursor: pointer;
            font-size: 0.75rem;
        }

        /* Info */
        .info-section {
            background: var(--bg-secondary);
            border-radius: 12px;
            padding: 25px;
            margin: 20px 0;
            border: 1px solid var(--border);
        }
        .info-section h3 { margin-bottom: 15px; color: var(--accent); }
        .info-section p, .info-section li { color: var(--text-secondary); margin-bottom: 8px; }
        .info-section ul { margin-left: 20px; }

        footer {
            text-align: center;
            padding: 30px;
            border-top: 1px solid var(--border);
            color: var(--text-secondary);
        }
        footer a { color: var(--accent); text-decoration: none; }

        .toast {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%) translateY(20px);
            background: var(--accent);
            color: white;
            padding: 12px 24px;
            border-radius: 8px;
            opacity: 0;
            transition: all 0.3s;
            z-index: 1000;
        }
        .toast.show { opacity: 1; transform: translateX(-50%) translateY(0); }

        .lang-switch {
            position: absolute;
            top: 20px;
            right: 20px;
        }
        .lang-switch a {
            color: var(--text-secondary);
            text-decoration: none;
            padding: 5px 10px;
            border: 1px solid var(--border);
            border-radius: 4px;
            font-size: 0.85rem;
        }
        .lang-switch a:hover {
            background: var(--bg-tertiary);
        }

        @media (max-width: 600px) {
            h1 { font-size: 1.8rem; }
            .password-text { font-size: 1rem; }
        }
    </style>
<script>window.currentLang="en";window.toolI18n={"meta":{"title":{"ko":"ë¹„ë°€ë²ˆí˜¸ ìƒì„±ê¸°","en":"Password Gen","ja":"ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç”Ÿæˆ"},"desc":{"ko":"ì•ˆì „í•œ ë¹„ë°€ë²ˆí˜¸","en":"Secure PW","ja":"å®‰å…¨ãªPW"}},"header":{"title":{"ko":"ğŸ” ë¹„ë°€ë²ˆí˜¸ ìƒì„±ê¸°","en":"ğŸ” Password Generator","ja":"ğŸ” ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç”Ÿæˆ"},"subtitle":{"ko":"ê°•ë ¥í•œ ë¹„ë°€ë²ˆí˜¸ ìƒì„±","en":"Create strong passwords","ja":"å¼·åŠ›ãªãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç”Ÿæˆ"}},"display":{"placeholder":{"ko":"ìƒì„± ë²„íŠ¼ í´ë¦­","en":"Click Generate","ja":"ç”Ÿæˆãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯"}},"strength":{"label":{"ko":"ê°•ë„:","en":"Strength:","ja":"å¼·åº¦:"},"weak":{"ko":"ì•½í•¨","en":"Weak","ja":"å¼±ã„"},"medium":{"ko":"ë³´í†µ","en":"Medium","ja":"æ™®é€š"},"strong":{"ko":"ê°•í•¨","en":"Strong","ja":"å¼·ã„"},"veryStrong":{"ko":"ë§¤ìš° ê°•í•¨","en":"Very Strong","ja":"éå¸¸ã«å¼·ã„"}},"options":{"length":{"title":{"ko":"ê¸¸ì´","en":"Length","ja":"é•·ã•"},"desc":{"ko":"ê¸¸ìˆ˜ë¡ ì•ˆì „","en":"Longer is safer","ja":"é•·ã„ã»ã©å®‰å…¨"}},"uppercase":{"title":{"ko":"ëŒ€ë¬¸ì","en":"Uppercase","ja":"å¤§æ–‡å­—"},"desc":{"ko":"A-Z","en":"A-Z","ja":"A-Z"}},"lowercase":{"title":{"ko":"ì†Œë¬¸ì","en":"Lowercase","ja":"å°æ–‡å­—"},"desc":{"ko":"a-z","en":"a-z","ja":"a-z"}},"numbers":{"title":{"ko":"ìˆ«ì","en":"Numbers","ja":"æ•°å­—"},"desc":{"ko":"0-9","en":"0-9","ja":"0-9"}},"symbols":{"title":{"ko":"íŠ¹ìˆ˜ë¬¸ì","en":"Symbols","ja":"è¨˜å·"},"desc":{"ko":"!@#","en":"!@#","ja":"!@#"}},"exclude":{"title":{"ko":"ëª¨í˜¸í•œ ë¬¸ì ì œì™¸","en":"No Ambiguous","ja":"æ›–æ˜§é™¤å¤–"},"desc":{"ko":"I, 1, O, 0","en":"I, 1, O, 0","ja":"I, 1, O, 0"}}},"generateBtn":{"ko":"ğŸ² ìƒì„±í•˜ê¸°","en":"ğŸ² Generate","ja":"ğŸ² ç”Ÿæˆ"},"history":{"title":{"ko":"ğŸ“œ ê¸°ë¡","en":"ğŸ“œ History","ja":"ğŸ“œ å±¥æ­´"},"clear":{"ko":"ì‚­ì œ","en":"Clear","ja":"å‰Šé™¤"},"empty":{"ko":"ê¸°ë¡ ì—†ìŒ","en":"No history","ja":"å±¥æ­´ãªã—"}},"info":{"tips":{"ko":"íŒ","en":"Tips","ja":"ãƒ’ãƒ³ãƒˆ"},"secure":{"title":{"ko":"ì•ˆì „ì„±","en":"Security","ja":"å®‰å…¨æ€§"},"desc":{"ko":"100% ë¡œì»¬ ì²˜ë¦¬","en":"100% Local","ja":"100%ãƒ­ãƒ¼ã‚«ãƒ«"}}},"footer":{"ko":"ì•ˆì „ ìµœìš°ì„ ","en":"Security First","ja":"å®‰å…¨ç¬¬ä¸€"}};</script></head>
<body>
    <div class="lang-switch">
        <a href="index.html">English</a>
    </div>

    <div class="container">
        <header>
            <h1>ğŸ” ë¹„ë°€ë²ˆí˜¸ ìƒì„±ê¸°</h1>
            <p class="subtitle">ê°•ë ¥í•˜ê³  ì•ˆì „í•œ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì¦‰ì‹œ ìƒì„±í•˜ì„¸ìš”</p>
        </header>

        <div class="ad-banner">ê´‘ê³  ì˜ì—­</div>

        <div class="password-card">
            <div class="password-display">
                <span class="password-text" id="passwordText">ìƒì„±í•˜ê¸° í´ë¦­</span>
                <div class="password-actions">
                    <button class="icon-btn" onclick="copyPassword()" title="ë³µì‚¬">ğŸ“‹</button>
                    <button class="icon-btn" onclick="generate()" title="ìƒˆë¡œ ë§Œë“¤ê¸°">ğŸ”„</button>
                </div>
            </div>

            <div class="strength-meter">
                <div class="strength-bar">
                    <div class="strength-fill" id="strengthFill"></div>
                </div>
                <div class="strength-text">
                    <span class="strength-label">ê°•ë„:</span>
                    <span id="strengthText">-</span>
                </div>
            </div>

            <div class="options-section">
                <div class="option-row">
                    <div class="option-label">
                        <span class="option-title">ë¹„ë°€ë²ˆí˜¸ ê¸¸ì´</span>
                        <span class="option-desc">ê¸¸ìˆ˜ë¡ ë” ì•ˆì „í•´ìš”</span>
                    </div>
                    <div class="length-slider">
                        <input type="range" id="lengthSlider" min="8" max="64" value="16" oninput="updateLength()">
                        <input type="text" class="length-value" id="lengthValue" value="16" onchange="setLength()">
                    </div>
                </div>

                <div class="option-row">
                    <div class="option-label">
                        <span class="option-title">ëŒ€ë¬¸ì (A-Z)</span>
                        <span class="option-desc">ABCDEFGHIJKLMNOPQRSTUVWXYZ</span>
                    </div>
                    <label class="toggle">
                        <input type="checkbox" id="uppercase" checked onchange="generate()">
                        <span class="toggle-slider"></span>
                    </label>
                </div>

                <div class="option-row">
                    <div class="option-label">
                        <span class="option-title">ì†Œë¬¸ì (a-z)</span>
                        <span class="option-desc">abcdefghijklmnopqrstuvwxyz</span>
                    </div>
                    <label class="toggle">
                        <input type="checkbox" id="lowercase" checked onchange="generate()">
                        <span class="toggle-slider"></span>
                    </label>
                </div>

                <div class="option-row">
                    <div class="option-label">
                        <span class="option-title">ìˆ«ì (0-9)</span>
                        <span class="option-desc">0123456789</span>
                    </div>
                    <label class="toggle">
                        <input type="checkbox" id="numbers" checked onchange="generate()">
                        <span class="toggle-slider"></span>
                    </label>
                </div>

                <div class="option-row">
                    <div class="option-label">
                        <span class="option-title">íŠ¹ìˆ˜ë¬¸ì</span>
                        <span class="option-desc">!@#$%^&*()_+-=[]{}|;:,.<>?</span>
                    </div>
                    <label class="toggle">
                        <input type="checkbox" id="symbols" checked onchange="generate()">
                        <span class="toggle-slider"></span>
                    </label>
                </div>

                <div class="option-row">
                    <div class="option-label">
                        <span class="option-title">í—·ê°ˆë¦¬ëŠ” ë¬¸ì ì œì™¸</span>
                        <span class="option-desc">l, 1, I, O, 0 ì œì™¸ (ì½ê¸° ì‰½ê²Œ)</span>
                    </div>
                    <label class="toggle">
                        <input type="checkbox" id="excludeAmbiguous" onchange="generate()">
                        <span class="toggle-slider"></span>
                    </label>
                </div>
            </div>

            <button class="generate-btn" onclick="generate()">ğŸ² ë¹„ë°€ë²ˆí˜¸ ìƒì„±í•˜ê¸°</button>
        </div>

        <div class="history-section">
            <div class="history-header">
                <span class="history-title">ğŸ“œ ìµœê·¼ ìƒì„± ê¸°ë¡</span>
                <button class="history-clear" onclick="clearHistory()">ì „ì²´ ì‚­ì œ</button>
            </div>
            <div class="history-list" id="historyList">
                <span style="color: var(--text-secondary);">ì•„ì§ ìƒì„±ëœ ë¹„ë°€ë²ˆí˜¸ê°€ ì—†ìŠµë‹ˆë‹¤</span>
            </div>
        </div>

        <div class="ad-banner">ê´‘ê³  ì˜ì—­</div>

        <div class="info-section">
            <h3>ê°•ë ¥í•œ ë¹„ë°€ë²ˆí˜¸ ë§Œë“¤ê¸° íŒ</h3>
            <ul>
                <li>ìµœì†Œ 12ì ì´ìƒ ì‚¬ìš©í•˜ì„¸ìš” (16ì ì´ìƒ ê¶Œì¥)</li>
                <li>ëŒ€ë¬¸ì, ì†Œë¬¸ì, ìˆ«ì, íŠ¹ìˆ˜ë¬¸ìë¥¼ ëª¨ë‘ í¬í•¨í•˜ì„¸ìš”</li>
                <li>ê°™ì€ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì—¬ëŸ¬ ì‚¬ì´íŠ¸ì—ì„œ ì‚¬ìš©í•˜ì§€ ë§ˆì„¸ìš”</li>
                <li>ë¹„ë°€ë²ˆí˜¸ ê´€ë¦¬ í”„ë¡œê·¸ë¨ì„ ì‚¬ìš©í•˜ì„¸ìš”</li>
                <li>ê°€ëŠ¥í•˜ë©´ 2ë‹¨ê³„ ì¸ì¦ì„ í™œì„±í™”í•˜ì„¸ìš”</li>
            </ul>
        </div>

        <div class="info-section">
            <h3>ì´ ë„êµ¬ëŠ” ì•ˆì „í•œê°€ìš”?</h3>
            <p>ë„¤! ëª¨ë“  ë¹„ë°€ë²ˆí˜¸ëŠ” ì•”í˜¸í•™ì ìœ¼ë¡œ ì•ˆì „í•œ ë‚œìˆ˜ ìƒì„±ê¸°ë¥¼ ì‚¬ìš©í•˜ì—¬ ë¸Œë¼ìš°ì €ì—ì„œ ì§ì ‘ ìƒì„±ë©ë‹ˆë‹¤. ì–´ë–¤ ì„œë²„ë¡œë„ ì „ì†¡ë˜ì§€ ì•Šìœ¼ë©° ë¹„ë°€ë²ˆí˜¸ëŠ” ì˜¤ì§ ë‹¹ì‹ ì˜ ê¸°ê¸°ì—ë§Œ ë‚¨ìŠµë‹ˆë‹¤.</p>
        </div>

        <footer>
            <p>ë³´ì•ˆì„ ìœ„í•´ â¤ï¸ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤</p>
            <p style="margin-top: 10px;"><a href="/">í™ˆ</a> Â· <a href="#privacy">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</a></p>
        </footer>
    </div>

    <div class="toast" id="toast"></div>

    <script>
        const UPPERCASE = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
        const LOWERCASE = 'abcdefghijklmnopqrstuvwxyz';
        const NUMBERS = '0123456789';
        const SYMBOLS = '!@#$%^&*()_+-=[]{}|;:,.<>?';
        const AMBIGUOUS = 'l1IO0';

        let history = [];

        function generate() {
            let charset = '';
            const options = {
                uppercase: document.getElementById('uppercase').checked,
                lowercase: document.getElementById('lowercase').checked,
                numbers: document.getElementById('numbers').checked,
                symbols: document.getElementById('symbols').checked,
                excludeAmbiguous: document.getElementById('excludeAmbiguous').checked
            };

            if (options.uppercase) charset += UPPERCASE;
            if (options.lowercase) charset += LOWERCASE;
            if (options.numbers) charset += NUMBERS;
            if (options.symbols) charset += SYMBOLS;

            if (options.excludeAmbiguous) {
                charset = charset.split('').filter(c => !AMBIGUOUS.includes(c)).join('');
            }

            if (!charset) {
                showToast('ìµœì†Œ í•˜ë‚˜ì˜ ì˜µì…˜ì„ ì„ íƒí•˜ì„¸ìš”');
                return;
            }

            const length = parseInt(document.getElementById('lengthSlider').value);
            let password = '';

            const array = new Uint32Array(length);
            crypto.getRandomValues(array);

            for (let i = 0; i < length; i++) {
                password += charset[array[i] % charset.length];
            }

            document.getElementById('passwordText').textContent = password;
            updateStrength(password, options);
            addToHistory(password);
        }

        function updateStrength(password, options) {
            let score = 0;
            const length = password.length;

            // Length score
            if (length >= 8) score += 1;
            if (length >= 12) score += 1;
            if (length >= 16) score += 1;
            if (length >= 20) score += 1;

            // Character variety
            if (options.uppercase && /[A-Z]/.test(password)) score += 1;
            if (options.lowercase && /[a-z]/.test(password)) score += 1;
            if (options.numbers && /[0-9]/.test(password)) score += 1;
            if (options.symbols && /[^A-Za-z0-9]/.test(password)) score += 1;

            const fill = document.getElementById('strengthFill');
            const text = document.getElementById('strengthText');

            const percentage = Math.min(100, (score / 8) * 100);
            fill.style.width = percentage + '%';

            if (score <= 3) {
                fill.style.background = '#ef4444';
                text.textContent = 'ì•½í•¨';
                text.style.color = '#ef4444';
            } else if (score <= 5) {
                fill.style.background = '#f59e0b';
                text.textContent = 'ë³´í†µ';
                text.style.color = '#f59e0b';
            } else if (score <= 7) {
                fill.style.background = '#22c55e';
                text.textContent = 'ê°•í•¨';
                text.style.color = '#22c55e';
            } else {
                fill.style.background = 'linear-gradient(90deg, #22c55e, #3b82f6)';
                text.textContent = 'ë§¤ìš° ê°•í•¨';
                text.style.color = '#22c55e';
            }
        }

        function updateLength() {
            const value = document.getElementById('lengthSlider').value;
            document.getElementById('lengthValue').value = value;
            generate();
        }

        function setLength() {
            let value = parseInt(document.getElementById('lengthValue').value) || 16;
            value = Math.min(64, Math.max(8, value));
            document.getElementById('lengthValue').value = value;
            document.getElementById('lengthSlider').value = value;
            generate();
        }

        function copyPassword() {
            const password = document.getElementById('passwordText').textContent;
            if (password && password !== 'ìƒì„±í•˜ê¸° í´ë¦­') {
                navigator.clipboard.writeText(password);
                showToast('í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!');
            }
        }

        function addToHistory(password) {
            history.unshift(password);
            if (history.length > 5) history.pop();
            renderHistory();
        }

        function renderHistory() {
            const list = document.getElementById('historyList');
            if (history.length === 0) {
                list.innerHTML = '<span style="color: var(--text-secondary);">ì•„ì§ ìƒì„±ëœ ë¹„ë°€ë²ˆí˜¸ê°€ ì—†ìŠµë‹ˆë‹¤</span>';
                return;
            }
            list.innerHTML = history.map(pw =>
                `<div class="history-item">
                    <span>${pw}</span>
                    <button class="history-item-copy" onclick="copyThis('${pw}')">ë³µì‚¬</button>
                </div>`
            ).join('');
        }

        function copyThis(pw) {
            navigator.clipboard.writeText(pw);
            showToast('ë³µì‚¬ ì™„ë£Œ!');
        }

        function clearHistory() {
            history = [];
            renderHistory();
            showToast('ê¸°ë¡ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤');
        }

        function showToast(msg) {
            const toast = document.getElementById('toast');
            toast.textContent = msg;
            toast.classList.add('show');
            setTimeout(() => toast.classList.remove('show'), 2000);
        }

        // Generate on load
        generate();

        // Keyboard shortcut
        document.addEventListener('keydown', (e) => {
            if (e.key === ' ' || e.key === 'Enter') {
                generate();
            }
        });
    </script>
<script src="/common/share-modal.js"></script><script src="/common/tool-i18n-handler.js"></script></body>
</html>
