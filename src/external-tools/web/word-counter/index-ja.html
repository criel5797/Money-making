<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>文字数カウンター - 無料オンライン単語・文字カウンター</title>
    <meta name="description" content="単語、文字、文、段落の数を即座にカウントします。読み取り時間推定機能付きの無料オンライン文字数カウンターツール。">
    <meta name="keywords" content="文字数カウント, 単語数カウント, 文字カウンター, テキスト分析, 読み取り時間">
    <meta property="og:title" content="文字数カウンター - 無料オンライン単語・文字カウンター">
    <meta property="og:description" content="単語、文字、文、段落の数を即座にカウントします。">
    <meta property="og:type" content="website">

    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root {
            --bg-primary: #0f172a;
            --bg-secondary: #1e293b;
            --bg-tertiary: #334155;
            --text-primary: #f8fafc;
            --text-secondary: #94a3b8;
            --accent: #0ea5e9;
            --accent-hover: #0284c7;
            --border: #475569;
            --success: #22c55e;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Noto Sans KR', sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
        }
        .container { max-width: 1000px; margin: 0 auto; padding: 20px; }
        header { text-align: center; padding: 30px 20px; }
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            background: linear-gradient(135deg, #0ea5e9, #6366f1);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .subtitle { color: var(--text-secondary); }
        .ad-banner {
            background: var(--bg-secondary);
            border: 1px dashed var(--border);
            padding: 20px;
            text-align: center;
            margin: 20px 0;
            border-radius: 8px;
            color: var(--text-secondary);
        }
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        .stat-card {
            background: var(--bg-secondary);
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            border: 1px solid var(--border);
            transition: transform 0.2s;
        }
        .stat-card:hover { transform: translateY(-3px); }
        .stat-value { font-size: 2rem; font-weight: 700; color: var(--accent); }
        .stat-label { color: var(--text-secondary); font-size: 0.85rem; margin-top: 5px; }
        .main-card {
            background: var(--bg-secondary);
            border-radius: 16px;
            padding: 25px;
            margin: 20px 0;
            border: 1px solid var(--border);
        }
        .toolbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            flex-wrap: wrap;
            gap: 10px;
        }
        .toolbar-left { display: flex; gap: 10px; }
        .btn-sm {
            padding: 8px 15px;
            background: var(--bg-tertiary);
            border: 1px solid var(--border);
            border-radius: 6px;
            color: var(--text-primary);
            cursor: pointer;
            font-size: 0.85rem;
        }
        .btn-sm:hover { background: var(--border); }
        textarea {
            width: 100%;
            height: 350px;
            padding: 20px;
            background: var(--bg-primary);
            border: 2px solid var(--border);
            border-radius: 12px;
            color: var(--text-primary);
            font-size: 1rem;
            line-height: 1.8;
            resize: vertical;
        }
        textarea:focus { outline: none; border-color: var(--accent); }
        textarea::placeholder { color: var(--text-secondary); }
        .details-section {
            background: var(--bg-secondary);
            border-radius: 12px;
            padding: 25px;
            margin: 20px 0;
            border: 1px solid var(--border);
        }
        .details-title { font-weight: 600; margin-bottom: 20px; color: var(--accent); }
        .details-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }
        .detail-item { background: var(--bg-primary); padding: 15px; border-radius: 8px; }
        .detail-label { color: var(--text-secondary); font-size: 0.85rem; margin-bottom: 5px; }
        .detail-value { font-size: 1.2rem; font-weight: 600; }
        .keyword-section {
            background: var(--bg-secondary);
            border-radius: 12px;
            padding: 25px;
            margin: 20px 0;
            border: 1px solid var(--border);
        }
        .keyword-title { font-weight: 600; margin-bottom: 15px; color: var(--accent); }
        .keyword-list { display: flex; flex-wrap: wrap; gap: 10px; }
        .keyword-tag {
            background: var(--bg-primary);
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .keyword-count {
            background: var(--accent);
            color: white;
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 0.75rem;
            font-weight: 600;
        }
        .info-section {
            background: var(--bg-secondary);
            border-radius: 12px;
            padding: 25px;
            margin: 20px 0;
            border: 1px solid var(--border);
        }
        .info-section h3 { margin-bottom: 15px; color: var(--accent); }
        .info-section p { color: var(--text-secondary); margin-bottom: 10px; line-height: 1.7; }
        footer {
            text-align: center;
            padding: 30px;
            border-top: 1px solid var(--border);
            color: var(--text-secondary);
        }
        footer a { color: var(--accent); text-decoration: none; }
        .toast {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%) translateY(20px);
            background: var(--success);
            color: white;
            padding: 12px 24px;
            border-radius: 8px;
            opacity: 0;
            transition: all 0.3s;
            z-index: 1000;
        }
        .toast.show { opacity: 1; transform: translateX(-50%) translateY(0); }
        .lang-switch {
            position: absolute;
            top: 20px;
            right: 20px;
        }
        .lang-switch a {
            color: var(--text-secondary);
            text-decoration: none;
            padding: 5px 10px;
            border: 1px solid var(--border);
            border-radius: 4px;
            font-size: 0.85rem;
        }
        .lang-switch a:hover { background: var(--bg-tertiary); }
        @media (max-width: 600px) {
            h1 { font-size: 1.8rem; }
        }
    </style>
</head>
<body>
    <div class="lang-switch">
        <a href="index.html">English</a>
    </div>

    <div class="container">
        <header>
            <h1>文字数カウンター</h1>
            <p class="subtitle">単語、文字数などを一目で確認</p>
        </header>

        <div class="ad-banner">広告スペース</div>

        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-value" id="wordCount">0</div>
                <div class="stat-label">単語</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="charCount">0</div>
                <div class="stat-label">文字（スペース含む）</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="charNoSpace">0</div>
                <div class="stat-label">文字（スペース除外）</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="sentenceCount">0</div>
                <div class="stat-label">文</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="paragraphCount">0</div>
                <div class="stat-label">段落</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="readingTime">0</div>
                <div class="stat-label">読み取り時間（分）</div>
            </div>
        </div>

        <div class="main-card">
            <div class="toolbar">
                <div class="toolbar-left">
                    <button class="btn-sm" onclick="clearText()">クリア</button>
                    <button class="btn-sm" onclick="copyText()">コピー</button>
                    <button class="btn-sm" onclick="loadSample()">サンプル</button>
                </div>
                <div class="toolbar-right">
                    <button class="btn-sm" onclick="convertCase('upper')">大文字</button>
                    <button class="btn-sm" onclick="convertCase('lower')">小文字</button>
                </div>
            </div>
            <textarea id="textInput" placeholder="ここにテキストを入力または貼り付けて、単語、文字数などを確認してください..."></textarea>
        </div>

        <div class="details-section">
            <div class="details-title">詳細統計</div>
            <div class="details-grid">
                <div class="detail-item">
                    <div class="detail-label">平均単語長</div>
                    <div class="detail-value" id="avgWordLength">0</div>
                </div>
                <div class="detail-item">
                    <div class="detail-label">平均文長</div>
                    <div class="detail-value" id="avgSentenceLength">0 単語</div>
                </div>
                <div class="detail-item">
                    <div class="detail-label">話す時間（150 wpm）</div>
                    <div class="detail-value" id="speakingTime">0分</div>
                </div>
                <div class="detail-item">
                    <div class="detail-label">最長の単語</div>
                    <div class="detail-value" id="longestWord">-</div>
                </div>
            </div>
        </div>

        <div class="keyword-section">
            <div class="keyword-title">頻出単語</div>
            <div class="keyword-list" id="keywordList">
                <span style="color: var(--text-secondary);">入力を開始すると頻出単語が表示されます...</span>
            </div>
        </div>

        <div class="ad-banner">広告スペース</div>

        <div class="info-section">
            <h3>このツールについて</h3>
            <p>この文字数カウンターツールは、単語数、文字数、文の数、推定読み取り時間など、テキストに関する即時統計を提供します。</p>
            <p>エッセイ、記事、ソーシャルメディア投稿、またはその他の執筆プロジェクトのテキストの長さを追跡する必要がある作家、学生、ブロガー、すべての人に最適です。</p>
        </div>

        <div class="info-section">
            <h3>一般的な文字制限</h3>
            <p>• <strong>Twitter/X:</strong> 280文字</p>
            <p>• <strong>Instagramプロフィール:</strong> 150文字</p>
            <p>• <strong>メタディスクリプション:</strong> 155-160文字</p>
            <p>• <strong>LinkedIn要約:</strong> 2,000文字</p>
            <p>• <strong>YouTube説明:</strong> 5,000文字</p>
            <p>• <strong>Facebook投稿:</strong> 63,206文字</p>
        </div>

        <footer>
            <p>ライターのために丁寧に作成</p>
            <p style="margin-top: 10px;"><a href="/">ホーム</a> · <a href="#privacy">プライバシーポリシー</a></p>
        </footer>
    </div>

    <div class="toast" id="toast"></div>

    <script>
        const textInput = document.getElementById('textInput');

        function analyze() {
            const text = textInput.value;

            const charCount = text.length;
            const charNoSpace = text.replace(/\s/g, '').length;

            const words = text.trim().split(/\s+/).filter(w => w.length > 0);
            const wordCount = text.trim() === '' ? 0 : words.length;

            const sentences = text.split(/[.!?。！？]+/).filter(s => s.trim().length > 0);
            const sentenceCount = sentences.length;
            const paragraphs = text.split(/\n\n+/).filter(p => p.trim().length > 0);
            const paragraphCount = text.trim() === '' ? 0 : paragraphs.length;

            // 読み取り時間（日本語は分あたり500文字基準）
            const readingTime = Math.ceil(charNoSpace / 500);
            const speakingTime = Math.ceil(charNoSpace / 300);

            const avgWordLength = wordCount > 0 ? (charNoSpace / wordCount).toFixed(1) : 0;
            const avgSentenceLength = sentenceCount > 0 ? Math.round(wordCount / sentenceCount) : 0;
            const longestWord = words.length > 0 ? words.reduce((a, b) => a.length > b.length ? a : b) : '-';

            document.getElementById('wordCount').textContent = wordCount.toLocaleString();
            document.getElementById('charCount').textContent = charCount.toLocaleString();
            document.getElementById('charNoSpace').textContent = charNoSpace.toLocaleString();
            document.getElementById('sentenceCount').textContent = sentenceCount.toLocaleString();
            document.getElementById('paragraphCount').textContent = paragraphCount.toLocaleString();
            document.getElementById('readingTime').textContent = readingTime;
            document.getElementById('avgWordLength').textContent = avgWordLength;
            document.getElementById('avgSentenceLength').textContent = avgSentenceLength + ' 単語';
            document.getElementById('speakingTime').textContent = speakingTime + '分';
            document.getElementById('longestWord').textContent = longestWord.length > 20 ? longestWord.substring(0, 20) + '...' : longestWord;

            analyzeKeywords(words);
        }

        function analyzeKeywords(words) {
            const stopWords = new Set(['の', 'が', 'を', 'に', 'は', 'と', 'で', 'た', 'も', 'な', 'い', 'し', 'て', 'れ', 'か', 'ら', 'や', 'り', 'だ', 'こ', 'そ', 'あ', 'ど', 'その', 'この', 'それ', 'これ', 'あれ', 'the', 'a', 'an', 'and', 'or', 'but', 'in', 'on', 'at', 'to', 'for', 'of', 'with', 'by', 'from', 'is', 'it', 'that', 'this', 'as', 'are', 'was', 'were', 'be', 'been', 'being', 'have', 'has', 'had', 'do', 'does', 'did', 'will', 'would', 'could', 'should', 'may', 'might', 'can', 'i', 'you', 'he', 'she', 'we', 'they', 'my', 'your', 'his', 'her', 'its', 'our', 'their']);

            const wordFreq = {};
            words.forEach(word => {
                const w = word.toLowerCase().replace(/[^a-z0-9가-힣ぁ-んァ-ヶー一-龠]/g, '');
                if (w.length > 1 && !stopWords.has(w)) {
                    wordFreq[w] = (wordFreq[w] || 0) + 1;
                }
            });

            const sorted = Object.entries(wordFreq)
                .sort((a, b) => b[1] - a[1])
                .slice(0, 10);

            const keywordList = document.getElementById('keywordList');
            if (sorted.length === 0) {
                keywordList.innerHTML = '<span style="color: var(--text-secondary);">入力を開始すると頻出単語が表示されます...</span>';
            } else {
                keywordList.innerHTML = sorted.map(([word, count]) =>
                    `<span class="keyword-tag">${word}<span class="keyword-count">${count}</span></span>`
                ).join('');
            }
        }

        function clearText() {
            textInput.value = '';
            analyze();
        }

        function copyText() {
            if (textInput.value) {
                navigator.clipboard.writeText(textInput.value);
                showToast('コピーしました!');
            }
        }

        function loadSample() {
            textInput.value = `こんにちは。これは文字数カウンターツールのサンプルテキストです。

文章を書くことは、コミュニケーションのための強力なツールです。メールを作成する場合でも、ブログ投稿を書く場合でも、次の小説に取り組む場合でも、単語数とテキスト統計を理解することで、より効果的に書くことができます。

たとえば、平均的な成人は分あたり約500-600文字を読みます。これは、1,000文字の記事を読むのに約2分かかることを意味します。ソーシャルメディアプラットフォームにはそれぞれ独自の文字制限があります：Twitterは280文字を許可し、Instagramのキャプションは最大2,200文字まで可能です。

プロの作家は、特定の単語数を目標にすることがよくあります。ブログ投稿は通常500から2,000単語の範囲であり、長文コンテンツは3,000単語を超えることがあります。これらの指標を理解することで、コンテンツ戦略を計画し、読者の期待に応えることができます。`;
            analyze();
            showToast('サンプルを読み込みました!');
        }

        function convertCase(type) {
            const text = textInput.value;
            switch (type) {
                case 'upper':
                    textInput.value = text.toUpperCase();
                    break;
                case 'lower':
                    textInput.value = text.toLowerCase();
                    break;
            }
            analyze();
            showToast('変換しました!');
        }

        function showToast(msg) {
            const toast = document.getElementById('toast');
            toast.textContent = msg;
            toast.classList.add('show');
            setTimeout(() => toast.classList.remove('show'), 2000);
        }

        textInput.addEventListener('input', analyze);
        analyze();
    </script>
</body>
</html>
