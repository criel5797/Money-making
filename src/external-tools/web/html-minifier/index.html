<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HTML Minifier - Free Online HTML Compressor Tool</title>
    <style>
        /* Styles remain the same */
        .lang-switch { position: fixed; top: 15px; right: 20px; z-index: 1000; }
        .lang-switch a { display: inline-block; padding: 8px 16px; background: #16213e; border: 1px solid #334155; border-radius: 6px; color: #888; text-decoration: none; font-size: 0.85rem; transition: all 0.2s; }
        .lang-switch a:hover { background: #ff6b6b; color: white; border-color: #ff6b6b; }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); min-height: 100vh; color: #e4e4e4; }
        .container { max-width: 1400px; margin: 0 auto; padding: 20px; }
        header { text-align: center; padding: 30px 0; }
        h1 { font-size: 2.5rem; background: linear-gradient(135deg, #ff6b6b, #ffa500); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; margin-bottom: 10px; }
        .subtitle { color: #888; font-size: 1.1rem; }
        .ad-banner { background: rgba(255,255,255,0.05); border: 1px dashed rgba(255,255,255,0.2); padding: 20px; text-align: center; margin: 20px 0; border-radius: 8px; color: #666; }
        .options-bar { display: flex; flex-wrap: wrap; gap: 20px; justify-content: center; margin-bottom: 20px; padding: 20px; background: rgba(255,255,255,0.05); border-radius: 12px; }
        .option-item { display: flex; align-items: center; gap: 8px; }
        .option-item label { color: #ccc; font-size: 14px; cursor: pointer; }
        .option-item input[type="checkbox"] { width: 18px; height: 18px; cursor: pointer; accent-color: #ff6b6b; }
        .main-content { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        @media (max-width: 900px) { .main-content { grid-template-columns: 1fr; } }
        .panel { background: rgba(255,255,255,0.05); border-radius: 12px; overflow: hidden; }
        .panel-header { background: rgba(255,255,255,0.08); padding: 15px 20px; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid rgba(255,255,255,0.1); }
        .panel-title { font-weight: 600; color: #ff6b6b; }
        .panel-actions { display: flex; gap: 10px; }
        textarea { width: 100%; height: 450px; background: transparent; border: none; padding: 20px; color: #e4e4e4; font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace; font-size: 13px; resize: none; outline: none; line-height: 1.5; }
        .btn { padding: 10px 20px; border: none; border-radius: 8px; cursor: pointer; font-weight: 500; font-size: 14px; transition: all 0.3s ease; }
        .btn-primary { background: linear-gradient(135deg, #ff6b6b, #ffa500); color: white; }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 5px 20px rgba(255, 107, 107, 0.3); }
        .btn-secondary { background: rgba(255,255,255,0.1); color: #e4e4e4; }
        .btn-secondary:hover { background: rgba(255,255,255,0.2); }
        .btn-small { padding: 6px 12px; font-size: 12px; }
        .controls { display: flex; gap: 15px; justify-content: center; flex-wrap: wrap; margin: 20px 0; }
        .stats-bar { display: flex; justify-content: space-between; padding: 12px 20px; background: rgba(0,0,0,0.2); font-size: 13px; color: #888; }
        .stat-item { display: flex; align-items: center; gap: 5px; }
        .stat-value { color: #ff6b6b; font-weight: 600; }
        .stat-value.green { color: #00ff88; }
        .features { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin: 40px 0; }
        .feature { background: rgba(255,255,255,0.05); padding: 25px; border-radius: 12px; text-align: center; }
        .feature-icon { font-size: 2rem; margin-bottom: 15px; }
        .feature h3 { color: #ff6b6b; margin-bottom: 10px; }
        .feature p { color: #888; font-size: 14px; }
        footer { text-align: center; padding: 40px 20px; color: #666; }
        .comparison { background: rgba(255,255,255,0.05); border-radius: 12px; padding: 25px; margin: 30px 0; text-align: center; }
        .comparison h3 { color: #ff6b6b; margin-bottom: 20px; }
        .comparison-stats { display: flex; justify-content: center; gap: 40px; flex-wrap: wrap; }
        .comparison-item { text-align: center; }
        .comparison-item .label { color: #888; font-size: 14px; margin-bottom: 5px; }
        .comparison-item .value { font-size: 28px; font-weight: 700; }
        .comparison-item .value.original { color: #ff6b6b; }
        .comparison-item .value.minified { color: #00ff88; }
        .comparison-item .value.saved { color: #ffa500; }
        .toast { position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%) translateY(100px); background: rgba(0, 255, 136, 0.9); color: #1a1a2e; padding: 12px 24px; border-radius: 8px; font-weight: 500; opacity: 0; transition: all 0.3s ease; z-index: 1000; }
        .toast.show { transform: translateX(-50%) translateY(0); opacity: 1; }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1 data-i18n="header.title">HTML Minifier</h1>
            <p class="subtitle" data-i18n="header.subtitle">Compress and optimize your HTML code for faster loading</p>
        </header>

        <div class="ad-banner">Advertisement</div>

        <div class="options-bar">
            <div class="option-item">
                <input type="checkbox" id="removeComments" checked>
                <label for="removeComments" data-i18n="options.comments">Remove Comments</label>
            </div>
            <div class="option-item">
                <input type="checkbox" id="removeWhitespace" checked>
                <label for="removeWhitespace" data-i18n="options.whitespace">Remove Whitespace</label>
            </div>
            <div class="option-item">
                <input type="checkbox" id="removeEmptyAttributes" checked>
                <label for="removeEmptyAttributes" data-i18n="options.empty">Remove Empty Attributes</label>
            </div>
            <div class="option-item">
                <input type="checkbox" id="removeOptionalTags">
                <label for="removeOptionalTags" data-i18n="options.tags">Remove Optional Tags</label>
            </div>
            <div class="option-item">
                <input type="checkbox" id="collapseInlineStyles">
                <label for="collapseInlineStyles" data-i18n="options.style">Collapse Inline Styles</label>
            </div>
        </div>

        <div class="controls">
            <button class="btn btn-primary" onclick="minifyHTML()" data-i18n="controls.minify">Minify HTML</button>
            <button class="btn btn-secondary" onclick="beautifyHTML()" data-i18n="controls.beautify">Beautify</button>
            <button class="btn btn-secondary" onclick="clearAll()" data-i18n="controls.clear">Clear</button>
            <button class="btn btn-secondary" onclick="loadSample()" data-i18n="controls.sample">Sample</button>
        </div>

        <div class="main-content">
            <div class="panel">
                <div class="panel-header">
                    <span class="panel-title" data-i18n="panel.input">Input HTML</span>
                    <div class="panel-actions">
                        <button class="btn btn-small btn-secondary" onclick="pasteFromClipboard()" data-i18n="panel.paste">Paste</button>
                    </div>
                </div>
                <textarea id="input" placeholder="Paste your HTML code here..." data-i18n-placeholder="panel.placeholder"></textarea>
                <div class="stats-bar">
                    <div class="stat-item">
                        <span data-i18n="stats.size">Size:</span>
                        <span class="stat-value" id="inputSize">0 bytes</span>
                    </div>
                    <div class="stat-item">
                        <span data-i18n="stats.lines">Lines:</span>
                        <span class="stat-value" id="inputLines">0</span>
                    </div>
                </div>
            </div>

            <div class="panel">
                <div class="panel-header">
                    <span class="panel-title" data-i18n="panel.output">Minified Output</span>
                    <div class="panel-actions">
                        <button class="btn btn-small btn-secondary" onclick="copyOutput()" data-i18n="panel.copy">Copy</button>
                        <button class="btn btn-small btn-secondary" onclick="downloadHTML()" data-i18n="panel.download">Download</button>
                    </div>
                </div>
                <textarea id="output" readonly placeholder="Minified HTML will appear here..." data-i18n-placeholder="panel.resPlaceholder"></textarea>
                <div class="stats-bar">
                    <div class="stat-item">
                        <span data-i18n="stats.size">Size:</span>
                        <span class="stat-value green" id="outputSize">0 bytes</span>
                    </div>
                    <div class="stat-item">
                        <span data-i18n="stats.saved">Saved:</span>
                        <span class="stat-value green" id="savedSize">0%</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="comparison" id="comparisonSection" style="display:none;">
            <h3>Compression Results</h3>
            <div class="comparison-stats">
                <div class="comparison-item">
                    <div class="label">Original Size</div>
                    <div class="value original" id="compOriginal">0 KB</div>
                </div>
                <div class="comparison-item">
                    <div class="label">Minified Size</div>
                    <div class="value minified" id="compMinified">0 KB</div>
                </div>
                <div class="comparison-item">
                    <div class="label">Saved</div>
                    <div class="value saved" id="compSaved">0%</div>
                </div>
            </div>
        </div>

        <div class="features">
            <div class="feature">
                <div class="feature-icon">&#128640;</div>
                <h3 data-i18n="features.fast">Fast Compression</h3>
            </div>
            <div class="feature">
                <div class="feature-icon">&#128274;</div>
                <h3 data-i18n="features.private">100% Private</h3>
            </div>
            <div class="feature">
                <div class="feature-icon">&#9881;</div>
                <h3 data-i18n="features.custom">Customizable</h3>
            </div>
            <div class="feature">
                <div class="feature-icon">&#128190;</div>
                <h3 data-i18n="features.dl">Download Ready</h3>
            </div>
        </div>

        <div class="ad-banner">Advertisement</div>

        <footer data-i18n="footer">
            Free HTML Minifier Tool | All processing done in your browser
        </footer>
    </div>

    <div class="toast" id="toast">Copied to clipboard!</div>

    <script>
        const input = document.getElementById('input');
        const output = document.getElementById('output');

        input.addEventListener('input', updateInputStats);

        function updateInputStats() {
            const text = input.value;
            const bytes = new Blob([text]).size;
            const lines = text ? text.split('\n').length : 0;
            document.getElementById('inputSize').textContent = formatBytes(bytes);
            document.getElementById('inputLines').textContent = lines;
        }

        function formatBytes(bytes) {
            if (bytes === 0) return '0 bytes';
            const k = 1024;
            const sizes = ['bytes', 'KB', 'MB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }

        function minifyHTML() {
            const html = input.value;
            if (!html.trim()) { showToast('Please enter HTML code'); return; }
            const options = {
                removeComments: document.getElementById('removeComments').checked,
                removeWhitespace: document.getElementById('removeWhitespace').checked,
                removeEmptyAttributes: document.getElementById('removeEmptyAttributes').checked,
                removeOptionalTags: document.getElementById('removeOptionalTags').checked,
                collapseInlineStyles: document.getElementById('collapseInlineStyles').checked
            };
            let minified = html;
            if (options.removeComments) minified = minified.replace(/<!--[\s\S]*?-->/g, '');
            if (options.removeWhitespace) {
                minified = minified.replace(/\s+/g, ' ').replace(/>\s+</g, '><').trim();
            }
            if (options.removeEmptyAttributes) minified = minified.replace(/\s+(\w+)=["']\s*["']/g, '');
            if (options.removeOptionalTags) minified = minified.replace(/<\/(?:li|dt|dd|p|tr|th|td|thead|tbody|tfoot|colgroup|option)>/gi, '');
            if (options.collapseInlineStyles) {
                minified = minified.replace(/style="([^"]*)"/gi, (match, styles) => {
                    return `style="${styles.replace(/\s*:\s*/g, ':').replace(/\s*;\s*/g, ';').trim()}"`;
                });
            }
            output.value = minified;
            updateOutputStats(html, minified);
            showToast('HTML minified!');
        }

        function updateOutputStats(original, minified) {
            const originalBytes = new Blob([original]).size;
            const minifiedBytes = new Blob([minified]).size;
            const saved = originalBytes > 0 ? ((originalBytes - minifiedBytes) / originalBytes * 100).toFixed(1) : 0;
            document.getElementById('outputSize').textContent = formatBytes(minifiedBytes);
            document.getElementById('savedSize').textContent = saved + '%';
            document.getElementById('comparisonSection').style.display = 'block';
            document.getElementById('compOriginal').textContent = formatBytes(originalBytes);
            document.getElementById('compMinified').textContent = formatBytes(minifiedBytes);
            document.getElementById('compSaved').textContent = saved + '%';
        }

        function beautifyHTML() {
            const html = input.value;
            if (!html.trim()) { showToast('Please enter HTML code'); return; }
            let beautified = html.replace(/>/</g, '>\n<');
            output.value = beautified; 
            showToast('HTML beautified!');
        }

        function clearAll() {
            input.value = ''; output.value = ''; updateInputStats();
            document.getElementById('outputSize').textContent = '0 bytes';
            document.getElementById('savedSize').textContent = '0%';
            document.getElementById('comparisonSection').style.display = 'none';
        }

        function loadSample() {
            input.value = `<!DOCTYPE html>\n<html>\n<head>\n  <title>Sample</title>\n</head>\n<body>\n  <h1>Hello World</h1>\n  <!-- Comment -->\n  <p>Sample paragraph.</p>\n</body>\n</html>`;
            updateInputStats();
            showToast('Sample loaded!');
        }

        async function pasteFromClipboard() {
            try {
                const text = await navigator.clipboard.readText();
                input.value = text;
                updateInputStats();
                showToast('Pasted from clipboard!');
            } catch (e) { showToast('Unable to paste'); }
        }

        function copyOutput() {
            if (!output.value) { showToast('Nothing to copy'); return; }
            navigator.clipboard.writeText(output.value).then(() => showToast('Copied to clipboard!'));
        }

        function downloadHTML() {
            if (!output.value) { showToast('Nothing to download'); return; }
            const blob = new Blob([output.value], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url; a.download = 'minified.html'; a.click();
            URL.revokeObjectURL(url);
            showToast('Downloaded!');
        }

        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.classList.add('show');
            setTimeout(() => toast.classList.remove('show'), 2000);
        }
    </script>
</body>
</html>